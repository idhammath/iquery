// Interface Query
// Version : 1.1
// Author : Trix 
// Url : http://e-infotainment.com/projects/interface-query/
(function(d,i){d.iq=d.iq||{};var b=d.iq,a=d('<style rel="stylesheet" type="text/css"/>').appendTo("head"),c=d("<input/>");b.version="1.1";d.extend(d.fn,{scrollParent:function(){var e,a=this.css("position"),g;if("fixed"!==a||!d.support.fixedPosition)e=this.parents(),"absolute"===a&&!d.support.overflowWithAbsolute?e.each(function(){if(/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x", 1)))return g=d(this),!1}):e.each(function(){if(/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1)))return g=d(this),!1});return!g?d(document):g},cssX:function(e){var a={},g=this;return d.isArray(e)?(d.each(e,function(e,k){a[k]=d.css(g[0],k)}),a):g.css.apply(g,arguments)},editClass:function(e,a){return this.removeClass(e).addClass(a)},swapClass:function(e,a){return this.each(function(){var g=d(this);g.hasClass(e)?g.removeClass(e).addClass(a): g.hasClass(a)&&g.removeClass(a).addClass(e)})},focusClass:function(e,a){a=a?"."+a:"";return this.bind("focus"+a,function(){d(this).addClass(e)}).bind("blur"+a,function(){d(this).removeClass(e)})},hoverClass:function(a,b){b=b?"."+b:"";return this.bind("mouseenter"+b,function(){d(this).addClass(a)}).bind("mouseleave"+b,function(){d(this).removeClass(a)})},outerHtml:function(a){var b,g;return a?this.replaceWith(htmlString):(b=this[0])?(g=b.outerHTML)?g:d("<p/>").append(this.clone()).remove().html(): null},isChildOf:function(a){for(var a=d(a)[0],b=this.eq(0).parents(),g=b.length;g;)if(b[--g]===a)return!0;return!1}});d.support.decompileFn=/xyz/.test(function(){});d.support.selection=c[0].selectionStart!==i;d(document).ready(function(){var a=d("<div id='Something' style='width:30px; height:30px; margin-top:-100px; margin-left:-100px; border:solid 1px black; overflow:scroll'><div style='width:1px; height:1px; border:solid 1px black; position:fixed; top:100px;'/></div>").appendTo("body"),b=a.find("div"); d.support.fixedPosition===i&&(d.support.fixedPosition=100==b[0].offsetTop);b.css("position","absolute");d.support.overflowWithAbsolute=30<a[0].scrollHeight;a.remove()});var c={},f=b.Class=function(){this._base&&this._base.call(this,"",arguments)};f.create=f.extend=function(a,c){c&&d.extend(a.prototype,c);return b.inherit(this,a)};d.extend(b,{formats:{daysLong:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysMedium:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysShort:"Su Mo Tu We Th Fr Sa".split(" "), monthsLong:"January February March April May June July August September October November December".split(" "),monthsMedium:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},keys:{asterisk:106,down:40,end:35,enter:13,escape:27,f2:113,home:36,left:37,pagedown:34,pageup:33,right:39,space:32,tab:9,up:38,a:65},regex:{whitespace:" \n\r\t\f\x0B\u00a0\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u3000",noLink:/^(|#)$/,splitRule:/^([^{]+)(\{([^}]*)\})?/m, splitStyles:/([^:]+):([^;}]+)/,numeric:/^-?[0-9]*$/,alphabetic:/^[A-Za-z]*$/,alphanumeric:/^[0-9A-Za-z]*$/,decimal:/^-?[0-9]*(.[0-9]*)?$/,hex:/^[A-Fa-f0-9]{0,6}$/},parsers:{json:{to:function(a){return d.secureEvalJSON(a)},from:function(a){return d.toJSON(a)}},date:{to:function(a){return new Date(a)},from:function(a,c){return c.format.replace(/(yyyy|yy|y|MMMM|MMM|MM|M|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|t)/gi,function(g){switch(g){case "yyyy":return a.getFullYear();case "yy":return b.prepend0(a.getFullYear()% 100,2);case "y":return a.getFullYear()%100;case "MMMM":return b.monthsLong[a.getMonth()];case "MMM":return b.monthsMedium[a.getMonth()];case "MM":return b.prepend0(a.getMonth()+1,2);case "M":return a.getMonth()+1;case "dddd":return b.daysLong[a.getDay()];case "ddd":return b.daysMedium[a.getDay()];case "dd":return b.prepend0(a.getDate(),2);case "d":return a.getDate();case "HH":return b.prepend0(a.getHours(),2);case "H":return a.getHours();case "hh":return b.prepend0((h=a.getHours()%12)?h:12,2);case "h":return(h= a.getHours()%12)?h:12;case "mm":return b.prepend0(a.getMinutes(),2);case "m":return a.getMinutes();case "ss":return b.prepend0(a.getSeconds(),2);case "s":return a.getSeconds();case "t":return 12>a.getHours()?"A.M.":"P.M."}return retVal})}}}});b.fnHooks=c;c.sheet=a[0].sheet?"sheet":"styleSheet";c.rules=a[0][c.sheet].rules?"rules":"cssRules";c.deleteRule=a[0][c.sheet].deleteRule?"deleteRule":"removeRule";a.remove();b.curStyle=function(a,b,g){var g=g||{},a=d(a).eq(0),c,k=g.hide;if(0<a.length)return k&& a.addClass("iq-hide"),g=a[0],g.currentStyle?c=g.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(g,null).getPropertyValue(b)),k&&a.removeClass("iq-hide"),c};b.ret1=function(){return!0};b.ret0=function(){return!1};b.indexOf=function(a,b,g,c){var k=typeof g;if(b){typeof c===i&&(k===i?c=!1:"number"!==k&&(c=g&&"string"===typeof a,g=i));if(c){c=b.length;for(g=g?0>g?Math.max(0,c+g):g:0;g<c;g++)if(b[g].toLowerCase()===a.toLowerCase())return g;return-1}return d.inArray(a, b,g)}};b.circularShift=function(a,b){if(0>b)for(var g=Math.abs(b);g--;)a.push(a.shift());else for(g=Math.abs(b);g--;)a.unshift(a.pop());return a};b.prepend0=function(a,b){for(var g=b-=a.toString().length;g--;)a="0"+a;return a};b.rand=function(a,b){var g=Math.random(),c=a;b||(b=a||1,c=0);return a===i?g:Math.floor(g*(b-c+1))+c};b.parse=function(a,c){var c=c||{},g=String.prototype.toLowerCase.apply(c.type||"");return(g=g?b.parsers[g]:i)?g.to(a,c):""};b.stringify=function(a,c){var c=c||{},g=String.prototype.toLowerCase.apply(c.type|| "");return(g=g?b.parsers[g]:i)?g.from(a,c):""};b.trim=function(a,c,g){return c?b.trimEnd(b.trimStart(a,c,g),c,g):d.trim(a)};b.trimStart=function(a,c,g){if(a){if(g||!c)for(var g=0,d=a.length,k=b.regex.whitespace;g<d;g++)if(-1===k.indexOf(a.charAt(g))){a=a.substring(g);break}if(c){g=0;for(d=a.length;g<d;g++)if(a.charAt(g)!=c){a=a.substring(g);break}}}return a};b.trimEnd=function(a,c,g){if(a){if(g||!c)for(var g=a.length,d=b.regex.whitespace;g--;)if(-1===d.indexOf(a.charAt(g))){a=a.substring(0,g+1);break}if(c)for(g= a.length;g--;)if(a.charAt(g)!=c){a=a.substring(0,g+1);break}}return a};b.keyValue=function(a,b,g){if("string"===typeof b){var c=b.split("."),b=c.pop(),k=c.length,f=a;if(g===i){for(var n=0;n<k&&f;n++)f=f[c[n]];return f?f[b]:i}for(var n=0,p;n<k;n++)p=c[n],f[p]=f[p]||{},f=f[p];c=f[b];f[b]=g;return c}d.each(b,function(g,b){a[g]=b})};b.Event=function(a,b,g){var c=d.Event(a);c.type=b;for(var b=d.event.props,k=b.length,f;k;)f=b[--k],c[f]=a[f];g&&d.each(g,function(a,g){c[a]=g});return c};b.inherit=function(a, b){var g=d.isFunction(a)?a.prototype:a,c=d.isFunction(b)?b.prototype:b,k=function(b){var c=Array.prototype.slice.call(arguments,1);return b?g[b].apply(this,c):a.apply(this,c)},m=function(a,b){var g=this._base,c;this._base=k;try{c=a.apply(this,b)}catch(e){d.error(e)}this._base=g;return c},n=d.isFunction(b)?c.constructor:function(){},p;a.__constructing=!0;p=new a;delete a.__constructing;d.each(c,function(a,b){p[a]=d.isFunction(b)&&(!d.support.decompileFn||/\b_base\b/.test(b))?function(){return m.call(this, b,arguments)}:b});b=d.extend(function(){if(!b.__constructing)return a===f?n.call(this,arguments):m.call(this,n,arguments)},a);b.prototype=p;return b.prototype.constructor=b};b.Plugin=f.extend({pluginName:"plugin",namespace:"iq",eventSuffix:".plugin",eventPrefix:"plugin",element:null,_onElement:null,options:{enabled:!0},option:function(a,c){var g=this.options,f=typeof a;if(a===i)return d.extend({},g);if("string"===f){if(c===i)return b.keyValue(g,a);this._optionChanged(a,c,b.keyValue(g,a,c))}else"boolean"!== f&&(c=a,a=!1),this._option(a,g,c)},_option:function(a,b,g,c){b===i&&(g=a,b=this.options);var c=c&&""!=c?c+".":"",k;for(k in g){var f=g[k];if(a&&d.isPlainObject(b[k])&&d.isPlainObject(f))b[k]=b[k]||{},this._option(a,b[k],g[k],c+k);else{var n=b[k];b[k]=f;this._optionChanged(c+k,f,n)}}},_optionChanged:function(a,b){"enabled"===a&&this.element.toggleClass("iq-disabled",!b)},enable:function(){return this.option("enabled",!0)},disable:function(){return this.option("enabled",!1)},_on:function(a,b,g,c){var k= this;d.each(c,function(c,f){var l=function(){if(!(!1===k.options.enabled||d(this).hasClass("iq-disabled")))return("string"===typeof f?k[f]:f).apply(k,arguments)};b?a.delegate(b,c,g||{},l):a.bind(c,g||{},l)})},_delegate:function(a,b,g,c,k){var f={};k?(f[g]=k,this._on(a,b,c,f)):c?"string"===typeof g?(f[g]=c,this._on(a,b,i,f)):(f[b]=c,this._on(this.element,a,g,f)):g?d.isPlainObject(g)?"string"===typeof b?this._on(d(a),b,i,g):this._on(this.element,a,b,g):(f[b]=g,this._on(this.element,a,i,f)):this._on(this.element, a,i,b)},_bind:function(a,b,c,f){var k={};f?(k[b]=f,this._on(d(a),i,c,k)):c?d.isPlainObject(c)?this._on(d(a),i,b,c):"string"===typeof b?(k[b]=c,this._on(d(a),i,i,k)):(k[b]=c,this._on(this.element,i,b,k)):b?d.isPlainObject(b)?this._on(d(a),i,i,b):"string"===typeof a?(k[a]=b,this._on(this.element,i,i,k)):this._on(this.element,i,c,b):this._on(this.element,i,i,a)},_callback:function(a,b,c){a=this.options[a];if(d.isFunction(a))return a.apply(this.element[0],c?d.isArray(c)?[b].concat(c):[b,c]:[b])},_triggerOptions:{doCallback:!0, stopOriginalEvent:!1,prependEventPrefix:!0,disableStopOriginalEvent:!1},_trigger:function(a,c,g){var f,k,m,n,a=d.extend({},this._triggerOptions,"string"===typeof a?{type:a}:a);m=a.type;k=d.Event(c);k.type=(a.prependEventPrefix&&0!=m.indexOf(this.eventPrefix)?this.eventPrefix+m:m).toLowerCase();g=g||{};if(f=k.originalEvent)for(var p=d.event.props,q=p.length,r;q;)r=p[--q],k[r]=f[r];a.properties&&d.each(a.properties,function(a,b){k[a]=b});k.originalEvent=null;a.disableStopOriginalEvent||(k.stopOriginalEvent= function(){k.isOriginalEventStopped()||(c.preventDefault(),c.stopImmediatePropagation(),c.returnValue=!1,k.isOriginalEventStopped=b.ret1)},k.isOriginalEventStopped=b.ret0,a.stopOriginalEvent&&k.stopOriginalEvent());this.element.trigger(k,g);(a=!k.isImmediatePropagationStopped()&&a.doCallback)&&(n=this._callback(m,k,g));k.originalEvent=f;return a&&n!==i?n:!k.isDefaultPrevented()},_preInit:function(a,b){this.options=d.extend(!0,{},this.options,b);this.element=d(a).eq(0);this._applyCss(a);this._init(); return this.element},_applyCss:function(a){d(a).addClass(b.plugin.css)},destroy:function(){this._destroy&&this._destroy(arguments)},remove:function(){this._remove&&this._remove(arguments);this.element.remove()},_init:d.noop});b.plugin=function(a,c,g){var f=a.split("."),k=1<f.length?f.shift():"iq",m=k+"-"+a,a=f[0];d[k]=d[k]||{};g||(g=c,c=b.Plugin);d.expr[":"][m]=function(a){return!!d.data(a,m)};g=d.extend(!0,{namespace:k,pluginName:a,eventSuffix:"."+a,eventPrefix:a,options:d.extend({},c.prototype.options), _triggerOptions:d.extend({},c.prototype._triggerOptions)},g);c=d[k][a]=c.extend(function(b,c){if(!this._preInit)return new d[k][a](b,c);arguments.length&&this._preInit(b,c)},g);c.version=b.version;b.plugin.create(a,c)};b.plugin.css="iq-plugin";b.plugin.create=function(a,b){d.fn[a]=function(c){var f="string"===typeof c,k=Array.prototype.slice.call(arguments,1),m=b.prototype||b,n=m.namespace,p=(n?n+"-":"")+a,q=this;f?this.each(function(){var f=d.data(this,p),m;if(!f){if(!b._autoInstantiate)return d.error("Cannot call method '"+ c+"' of uninitialized plugin "+a);d(this)[a]({});f=d.data(this,p)}if(!d.isFunction(f[c])||"_"===c.charAt(0))return d.error("Method '"+c+"' not defined in plugin "+a);m=f[c].apply(f,k);if(m!==i&&m!==f)return q=m.jquery?q.pushStack(m.get()):m,!1}):this.each(function(){var k=d.data(this,p);k?k.option(c||{}):((k=m._onElement)&&(d(this).is(k)||d.error("Plugin '"+a+"' can only be initialized on '"+k+"' elements")),d.isFunction(b)?k=new b(this,c):(k=b,k._init&&k._init(this,c)),d.data(this,p,k))});return q}}})(jQuery); (function(d,i){var b=d.iq.event=function(a,c){!1!==c.createFn&&b.createFn(a);c=d.event.special[a]=d.extend(!0,{eventSuffix:"."+a,dataNamespace:"iq",dataName:a},c,{options:{bindCount:0},_setup:c.setup,setup:function(a,b,j){var g=c.dataNamespace+"."+c.dataName,l=d.data(this,g);l?d.extend(l,c.options):(l=d.extend({},c.options),d.data(this,g,l));if(c._setup)return c._setup.call(this,a,b,j,l)},_teardown:c.teardown,teardown:function(){extendedData=d.data(this,c.dataNamespace+"."+c.dataName);if(c._teardown)return c._teardown.call(this, extendedData);d.removeData(this,c.dataNamespace+"."+c.dataName)},_add:c.add,add:function(a){var b=d.data(this,c.dataNamespace+"."+c.dataName);b.bindCount+=1;d.extend(!0,b,a.data||{});if(c._add)return c._add.call(this,a,b)},_remove:c.remove,remove:function(a){var b=d.data(this,c.dataNamespace+"."+c.dataName);if(c._remove)return c._remove.call(this,a,b);b.bindCount-=1}})};b.createFn=function(a){d.fn[a]=function(b,f){f===i&&d.isFunction(b)&&(f=b);b=b||{};return f?this.bind(a,b,f):this.trigger(a,b)}}})(jQuery); (function(d,i,b){d.fn.caret=function(a,c){var f=this[0],e,j;if(a!==b)if(a.start)e=a.start,j=a.end;else if(c)e=a,j=c;else{var g=d.type(a);if("string"===g)-1<(e=f.value.indexOf(a))?j=e+a[i]:e=null;else if("regexp"===g&&null!=(c=a.exec(f.value)))e=c.index,j=e+c[0][i]}if(e===b){if(d.support.selection)e=f.selectionStart,j=f.selectionEnd;else{var g=document.selection.createRange(),l=g.duplicate();if("textarea"!=f.tagName.toLowerCase()){var k=this.val();l.moveEnd("character",k[i]);e=""==l.text?k[i]:k.lastIndexOf(l.text); l=g.duplicate();l.moveStart("character",-k[i]);j=l.text[i]}else l.moveToElementText(f),l.setEndPoint("EndToEnd",g),e=l.text[i]-g.text[i],j=e+g.text[i]}return{start:e,end:j,text:f.value.substring(e,j),replace:function(a){var b=f.value;return b.substring(0,e)+a+b.substring(j,b[i])}}}d.support.selection?(f.selectionStart=e,f.selectionEnd=j):(g=f.createTextRange(),g.collapse(!0),g.moveStart("character",e),g.moveEnd("character",j-e),g.select());f.focus();return this}})(jQuery,"length"); (function(d,i){var b=d.iq;d.cookie=function(a,c,f){if(a&&"string"!=typeof a)d.each(a,function(a,b){d.cookie(a,b,c)});else if(c===i){var f=f||{},e=document.cookie,j=b&&b.parse&&f.parse,g={};if(e){if(a)return(g=(g=RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(e))?f.raw?g[1]:decodeURIComponent(g[1]):null)&&j?b.parse(g,j):g;e.replace(/([^=;]+)=([^;]*)/g,function(a,c,e){e=f.raw?e:decodeURIComponent(e);g[c]=j?b.parse(e,j):e});return g}}else{f=f||{};null==c&&(c="",f.expires=-1);var e=f.expires, l;"number"===typeof e&&(l=e,e=new Date,e.setDate(e.getDate()+l));b&&(b.stringify&&f.parse&&f.parse.type)&&(c=b.stringify(c,f.parse));return document.cookie=[encodeURIComponent(a),"=",f.raw?c:encodeURIComponent(c),e?";expires="+e.toUTCString():"",f.path?";path="+f.path:"",f.domain?";domain="+f.domain:"",f.secure?";secure":""].join("")}};d.cookie.get=function(a,b,f){b&&(b.parse=f);return d.cookie(a,i,b)};d.cookie.set=function(a,b,f,e){f&&(f.parse=e);d.cookie(a,b,f)}})(jQuery); (function(d,i){function b(a){a=this.element=d(a);this.cssSheet=a[0][e];a.is("link,style")||d.error("cssRule plugin can be used only for link and style tags")}var a=d.iq,c=a.fnHooks,f=c.rules,e=c.sheet,j=c.deleteRule;b._autoInstantiate=!0;d.extend(b.prototype,{_searchRule:function(b,c,k){var e,j=!1;b?d.isFunction(b)?(c=b,b=i,j=!0):(d.isArray(b)||(b=[b]),e=b.length):j=!0;for(var p=[],q=[],r=this.cssSheet[f],u=e,s=r.length,t,v;s&&(u||j);)if(t=r[--s],j||-1<(v=a.indexOf(t.selectorText.toLowerCase(),b, 0,!0)))if(j||(q[v]=!0,u--),p.push(t),c&&!1===c(s,t))break;if(!j&&k)for(;e;)q[--e]||k(b[e]);return p},rule:function(a,b,c){var f=this,e={},j=function(a,b){d.each(e,function(a,c){b.style[d.trim(a)]=d.trim(c)})};if(a)if(-1<a.indexOf("{"))f._cssText(a,function(a,b){f.rule(a,b,c)});else if(b){if("string"===typeof b)if(-1<b.indexOf(":"))d.each(b.split(";"),function(a,b){var c=b.split(":");e[c[0]]=c[1]});else if(c)e[b]=c;else{var q=f.rule(a);if(q&&0<q.length)return q[q.length-1].style[d.trim(b)]}else e= b;f._searchRule(a,j,function(a){f.addRule(a);(a=f.rule(a))&&0<a.length&&j(i,a[a.length-1])})}else return f._searchRule(a);else return f._searchRule()},addRule:function(a,b){var c=this.cssSheet;c.addRule?c.addRule(a,b||";"):c.insertRule&&c.insertRule(a+"{"+b+"}",c[f].length)},deleteRule:function(a){var b=this;b._searchRule(a,function(a){b.cssSheet[j](a)})},clean:function(a){var b;if(a)this._searchRule(a,function(a,c){b=c.style;for(var k in b)b.removeProperty?b.removeProperty(k):b.removeAttribute(d.camelCase(k))}); else for(var a=this.cssSheet,c=a[f].length;c;)a[j](--c)},deleteStyle:function(a,b){d.isArray(b)||(b=[b]);this._searchRule(a,function(a,c){for(var g=c.style,a=b.length;a--;)g.removeProperty?g.removeProperty(b[a]):g.removeAttribute(d.camelCase(b[a]))})},_cssText:function(b,c){if(b&&c)for(var k=a.regex.splitRule,f=d.map(b.split("}"),function(a){if(a)return a+"}"}),e=f.length,j;e;)j=k.exec(f[--e]),c(j[1],j[3])},cssText:function(a,b){b||(b=a="append");if(b){var c=this,f="clean"==a||"new"==a;"clean"==a&& c.clean();c._cssText(b,function(a,b){c[f?"addRule":"rule"](a,b)})}}});a.plugin.create("cssRule",b)})(jQuery); (function(d,i){var b;d.iq.plugin("multiview",{options:{animateMode:"margin",selectedIndex:0,filter:">*",animate:!1,duration:"fast"},eventPrefix:"tab",_activeView:null,_previousAnimatedIndex:0,_previousAnimated:!1,activeView:function(a,c){var f=this.element,e=this._activeView,d=this.options,g;if(a!==i&&!this._animating){"number"==typeof a?g=this._pages.eq(a):(g=a,a=this._pages.index(g[0]));if(d.animate&&"margin"==d.animateMode)if(f.is(":visible")){this._previousAnimated||(this._previousAnimated=!0, f.addClass(b.animate),d.animate=!1,this.activeView(this._previousAnimatedIndex),d.animate=!0,this.activeView(this._pages.index(e[0]),!0));this._previousAnimatedIndex=a;var l=g.offset(),k=parseInt(f.css("marginTop"))||0,m=parseInt(f.css("marginLeft"))||0,n=e.offset();f.stop(!1,!0).animate({marginTop:k+n.top-l.top,marginLeft:m+n.left-l.left},{duration:c?0:d.duration,easing:d.easing})}else f.removeClass(b.animate),this._previousAnimated=!1;e.removeClass(b.viewSelected);this._activeView=g.addClass(b.viewSelected); return this}return e},_init:function(){var a=this.element.addClass(b.container),c=this.options;this._pages=a.find(c.filter).addClass(b.view);this._activeView=this._pages.eq(0).addClass(b.viewSelected);c.selectedIndex&&this.activeView(c.selectedIndex||0,!0);return a}});b=d.iq.multiview.classes={container:"iq-multiview",animate:"iq-multiview-animate",view:"iq-multiview-view",viewSelected:"iq-multiview-view-selected"}})(jQuery); (function(d,i){function b(a){var b=window.document,a=b.documentElement["client"+a],c=b.body;return"CSS1Compat"===b.compatMode&&a||c&&c["client"+name]||a}function a(a){a=a?d.trim(a).split(" "):["50%","50%"];1==a.length&&(a=/(top|bottom)/i.exec(a[0])?["50%",a[0]]:[a[0],"50%"]);return a}function c(a,b,c){var f,e=/((-?[\d]+)%)|((-?[\d]+)px)/.exec(a),d;e?e[2]!==i&&""!==e[2]?d=e[2]:f=e[4]:d=(e=c.exec(a))?e[1]?0:e[2]?50:e[3]?100:50:50;d!==i&&(f=b*d/100);return parseInt(f)}var f=d.fn.position,e=/(left)|(center)|(right)/, j=/(top)|(center)|(bottom)/;d.fn.position=function(g){if(!g||!g.of)return f.apply(this,arguments);var g=d.extend({},{fixed:!1},g),l=this.css({left:"0px",top:"0px"}),k=l.css("display"),m=d(g.of),n=m[0]===window,i=n?{left:0,top:0}:m.offset(),q=l.show().offset(),r=n?0:parseInt(m.css("margin-left"));n||parseInt(m.css("margin-top"));var u=a(g.my),s=a(g.at),t=g.offset,v=n||l.parents().filter(m[0]).length;l.css("display",k);l.css({left:-q.left+i.left+c(s[0],n?b("Width"):m.outerWidth(),e)-c(u[0],l.outerWidth(), e)-(parseInt(l.css("margin-left"))||0)+(parseInt(r)||0)+(t?parseInt(t.left)||0:0),top:-q.top+i.top+c(s[1],n?b("Height"):m.outerHeight(),j)-c(u[1],l.outerHeight(),j)-(parseInt(l.css("margin-top"))||0)+(parseInt(r)||0)+(t?parseInt(t.top)||0:0)});if(!0!==g.disableFix){var x=n?d(document):m.scrollParent();if(g.fixed&&(!d.support.fixedPosition||"fixed"!=l.css("position"))&&v||g.autoPosition)if(x[0]===document&&(x=d(window)),g.fixed=!0,g.disableFix=!0,k=x.data("iq-position-elements")){for(var w,m=x.data("iq-position-elements"), n=m.length;n--;)if(m[n]===l[0]){w=!0;break}w||k.push(l.data("iq-position",g)[0])}else k=[l.data("iq-position",g)[0]],x.data("iq-position-elements",k).bind("scroll resize",function(){for(var a=x.data("iq-position-elements"),b=a.length,c;b--;)c=d(a[b]),c.position(c.data("iq-position"))})}return l};d.iq.position={flip:{x:{},y:{}},fit:{x:{},y:{}},flipfit:{x:{},y:{}}}})(jQuery); (function(d){d.fn.scrollTo=function(i,b,a,c){"number"==typeof i||!(i instanceof d)&&d.isPlainObject(i)?(b=d.speed(i,b,a),i=this.eq(0),a=i.scrollParent()):(b=d.speed(b,a,c),a=this,i=d(i,this).eq(0));b=d.extend({axis:"xy",easing:"linear",duration:0,includeMargin:!0,queue:!1},b);i.length&&(0<=b.axis.indexOf("x")&&a.animate({scrollLeft:(a.is("html,body")?0:a.scrollLeft())+(i.position().left-(a.is("html,body")?0:a.position().left)+(b.includeMargin?0:parseInt(i.css("marginLeft"))||0))},b),0<=b.axis.indexOf("y")&& a.animate({scrollTop:(a.is("html,body")?0:a.scrollTop())+(i.position().top-(a.is("html,body")?0:a.position().top)+(b.includeMargin?0:parseInt(i.css("marginTop"))||0))},b))}})(jQuery); (function(d){var i;d.iq.plugin("selectable",{options:{filter:">*",helperParent:"",tolerance:"touch",distance:100,autoRefresh:!0},_triggerOptions:{prependEventPrefix:!1},refresh:function(){this.selectees=d(this.options.filter,this.element).addClass(i.selectee).each(function(){var b=d(this),a=b.offset();b.data("iq.selectee",{left:a.left,top:a.top,right:a.left+b.outerWidth(),bottom:a.top+b.outerHeight(),selected:b.hasClass(i.selected),selecting:b.hasClass(i.selecting),deselecting:b.hasClass(i.deselecting)})})}, _getMid:function(b){b=b.jquery?b.data("iq.selectee"):b;return{x:b.left+(b.right-b.left)/2,y:b.top+(b.bottom-b.top)/2}},_select:function(b,a,c,f){var e=this,j=c?"selectItem":"deselectItem",g=c?"selecting":"deselecting",l=i[g],k=c?"selected":"deselected",m,n;b.each(function(){m=d(this);n=m.data("iq.selectee");n[g]=!0;2==f||e._trigger(g,a,{target:m.addClass(l)[0]})?1!=f&&(m.removeClass(l),n[g]=!1,e[j](m),e._trigger(k,a,{target:m[0]})):(m.removeClass(l),n[g]=!0)})},_getItems:function(b,a,c){if(a){var f= this,e=f._getMid(b),b=f._getMid(a),j=b.x,g=e.x,l=e.y,k=b.y,m=[];if(l>k)l=k,k=e.y;else if(l!=k||g<j)j=g,g=b.x;this.selectees.each(function(){var a=d(this),b=a.data("iq.selectee"),i=!0;b.bottom>l&&b.top<k&&(l==k?i=b.right>j&&b.left<g:(e=f._getMid(b),e.y-l<k-e.y?b.right<j?i=b.top>l:b.left>g&&(i=b.bottom<k):e.y==l?i=b.right>j:e.y==k&&(i=b.left<g)),i&&(m.push(a[0]),c&&c(a,b)))})}else m.push(b[0]),c&&c(b,b.data("iq.selectee"));return d(m)},selectItem:function(b,a){var c=this,f;a&&b[0]!==a[0]?c._getItems(b, a,function(a){c.selectItem(a)}):(f=b.removeClass(i.deselecting+" "+i.selecting).addClass(i.selected).data("iq.selectee"),f.selecting=!1,f.selected=!0)},deselectItem:function(b){b&&b.length&&b.each(function(){var a=d(this).removeClass(i.deselecting+" "+i.selected).data("iq.selectee");a.deselecting=!1;a.selected=!1})},toggleSelection:function(b,a){b.toggleClass(i.selected,a).data("iq.selectee").selected=a},getSelected:function(){return this.selectees&&this.selectees.filter("."+i.selected)},_lastSelectee:null, _init:function(){var b=this,a=b.options,c=a.helperParent||"body",f;b.refresh();b.helper=d("<div class='"+i.helper+"'/>");b.element.dragstart(function(e,j){var g;f=!0;a.autoRefresh&&b.refresh();b.helper.appendTo(c).css({left:j.start.pageX,top:j.start.pageY,width:0,height:0,display:"block"});b._trigger("selectstart",e);d(j.target).parents().andSelf().each(function(){var a=d(this),c=a.data("iq.selectee");if(c)return e.shiftKey?(b._select(b.getSelected(),e,!1,0),b._lastSelectee=b._lastSelectee||b.closest(), b._select(b._getItems(a,b._lastSelectee),e,!0,1)):c.selected?e.metaKey?b._select($selectee,e,!1,1):f=!1:(g=b.getSelected(),b._select(a,e,!0,1)),!1});!e.shiftKey&&(!e.metaKey&&f)&&b._select(g||b.getSelected(),e,!1,0)}).drag(function(c,j){if(f){var g=j.start.pageX,l=j.current.pageX,k=j.start.pageY,m=j.current.pageY,n;g>l&&(n=g,g=l,l=n);k>m&&(n=k,k=m,m=n);b.helper.css({left:g,top:k,width:l-g,height:m-k});b.selectees.each(function(){var f=d(this),j=f.data("iq.selectee"),n=!1;"touch"==a.tolerance?n=!(j.left> l||j.right<g||j.top>m||j.bottom<k):"fit"==a.tolerance&&(n=j.left>g&&j.right<l&&j.top>k&&j.bottom<m);n?j.selected?j.deselecting||b._select(f,c,!1,1):j.selecting||b._select(f,c,!0,1):j.selecting?(j.selecting=!1,f.removeClass(i.selecting)):j.deselecting&&(j.deselecting=!1,f.removeClass(i.deselecting))})}}).dragend(function(a){b.helper.remove();b.selectees.each(function(){var c=d(this),g=c.data("iq.selectee");g.deselecting?b._select(c,a,!1,2):g.selecting&&(g.selected?g.selecting=!1:b._select(c,a,!0,2))}); b._trigger("selectend",a)})}});i=d.iq.selectable.classes={helper:"iq-selectable-helper",selectee:"iq-selectable-selectee",selected:"iq-selectable-selected",selecting:"iq-selectable-selecting",deselecting:"iq-selectable-deselecting"}})(jQuery); (function(d){var i=d.iq,b=i.selectable.classes,a=i.keys;d.extend(b,{focused:"iq-sel-focused"});i.plugin("selectable",i.selectable,{options:{keyboard:{enabled:!1}},focusItem:function(a){a&&a.trigger("focus")},blurItem:function(a){a&&a.trigger("blur")},closest:function(a){var b=this,e,j,g,l,k;b.focusedItem?(k=b._getMid(b.focusedItem),g=k.x,l=k.y):(g=l=0,a=3);b.selectees&&b.selectees.each(function(){var k=d(this),n;n=b._getMid(k);selecteeX=n.x;selecteeY=n.y;relativeX=selecteeX-g;relativeY=l-selecteeY; if(1==a&&selecteeY<l&&Math.abs(relativeX)<relativeY||2==a&&selecteeX>g&&Math.abs(relativeY)<relativeX||3==a&&selecteeY>l&&Math.abs(relativeX)<-relativeY||4==a&&selecteeX<g&&Math.abs(relativeY)<-relativeX)if(n=Math.sqrt(Math.pow(relativeX,2)+Math.pow(relativeY,2)),!j||n<j)j=n,e=k});return e||b.focusedItem||d([])},_lastFocused:null,focusedItem:null,_init:function(){var c=this,f=c.options;c._base("_init");f.keyboard.enabled&&(c.element.bind("keydown"+c.eventSuffix,function(b){var f=b.which,g,d,k;f== a.space?(c._trigger("selectstart",b),(!b.metaKey||b.shiftKey)&&c._select(c.getSelected(),b,!1,0),b.shiftKey?c._select(c.focusedItem,b,!0,0):c._select(c.focusedItem,b,!c.focusedItem.data("iq.selectee").selected,0)):(c._trigger("selectstart",b),(g=f==a.up?1:f==a.right?2:f==a.down?3:f==a.left?4:0)&&(d=c.closest(g))?(b.shiftKey&&(k=c._lastFocused||c.focusedItem,c._select(c.getSelected(),b,!1,0),c._select(c._getItems(d,k),b,!0,0)),c.focusedItem.attr("tabIndex",-1),c.blurItem(c.focusedItem),c.focusItem(d), c._lastFocused=k):b.metaKey&&f==a.a&&(c._select(c.getSelected(),b,!1,0),c._select(c.selectees,b,!0,0)));return!1}),c.selectees.attr("tabIndex",-1).bind("focus",function(a){var f=d(this);0==f.attr("tabIndex")&&c.refresh();c._lastFocused=c.focusedItem=f.attr("tabIndex",0).addClass(b.focused);a.stopPropagation()}).bind("blur",function(){d(this).removeClass(b.focused)}),c.closest().attr("tabIndex",0))}})})(jQuery); (function(d){var i=d.iq,b=function(a,b,f,k){k.dragBound||(k.dragBound=!0,d(this).bind("mousedown",k,c))},a=function(a){a.bindCount||(a.dragBound=!1,d(this).unbind("mousedown",c))},c=function(a){var b=d(this),c=a.data,k=c.handle,m=c.cancel,n=a.target,p=c.container;if(!m||!("string"==typeof m?d(n).parents().andSelf().filter(m).length:d.isFunction(m)&&m.call(b,n)))if(!k||("string"==typeof k?d(n).parents().andSelf().filter(k).length:d.isFunction(k)?k.call(b,n):1)){k=i.Event(a,"dragstart");c.start={x:a.clientX, y:a.clientY,pageX:a.pageX,pageY:a.pageY,left:parseInt("auto"==b.css("left")&&"absolute"==b.css("position")?b[0].offsetLeft:b.css("left"))||0,top:parseInt("auto"==b.css("top")&&"absolute"==b.css("position")?b[0].offsetTop:b.css("top"))||0};if(p){var q=b.offset(),r=p.offset(),m=d.extend({x1:0,y1:0,x2:0,y2:0},c.offset),n=r.left-q.left+(parseInt("auto"==b.css("left")&&"absolute"==b.css("position")?b[0].offsetLeft:b.css("left"))||0)+(parseInt(p.css("border-left-width"))||0)+(parseInt(b.css("marginLeft"))|| 0)-(parseInt(b.css("margin-left"))||0),q=r.top-q.top+(parseInt("auto"==b.css("top")&&"absolute"==b.css("position")?b[0].offsetTop:b.css("top"))||0)+(parseInt(p.css("border-top-width"))||0)+(parseInt(b.css("marginTop"))||0)-(parseInt(b.css("margin-top"))||0),r=p.innerWidth()-(c.zoneWrap?b.outerWidth():0),p=p.innerHeight()-(c.zoneWrap?b.outerHeight():0);c.bounds={x1:n+m.x1,y1:q+m.y1,x2:n+(0>r?0:r)+m.x2,y2:q+(0>p?0:p)+m.y2}}c.target=a.target;b.trigger(k,c);a=!k.isDefaultPrevented();c.dragEnabled&&a&& (c.$element=b,d(document).bind("mousemove",c,f).bind("mouseup",c,e));return!1}},f=function(a){var b=a.data;$event=i.Event(a,"drag");b.current={x:a.clientX,y:a.clientY,pageX:a.pageX,pageY:a.pageY};b.relative={x:a.clientX-b.start.x,y:a.clientY-b.start.y};b.$element.trigger($event,b);return!1},e=function(a){var b=a.data;d(document).unbind("mousemove",f).unbind("mouseup",e);$event=i.Event(a,"dragend");b.$element.trigger($event,b);return!1};i.event("dragstart",{dataName:"drag",options:{cancel:":input"}, setup:b,teardown:a});i.event("drag",{dataName:"drag",options:{dragEnabled:!0},setup:b,teardown:a});i.event("dragend",{dataName:"drag",options:{},setup:b,teardown:a})})(jQuery); (function(d){var i,b=["width","height"],a=d([]),c=function(){for(var f=a.length;f--;){for(var e=d(a[f]),j=e.data("iq.resize").properties,g={},l=!1,k=2;k--;){var m=b[k],n=e.css(m);n!=j[m]&&(g[m]={oldValue:j[m],newValue:n},j[m]=n,l=!0)}l&&e.trigger("resize",g)}i=setTimeout(c,50)};d.iq.event("resize",{setup:function(b,e,j,g){if(this.setTimeout)return!1;b=d(this);a=a.add(b);g.properties={width:b.css("width"),height:b.css("height")};1==a.length&&c()},teardown:function(){var b=d(this);a.not(b.removeData("iq.resize")); a.length||clearTimeout(i)}})})(jQuery); (function(d){var i,b=[],a=function(){for(var c=b.length;c--;){for(var f=b[c],e=f[0],j=d(e),g=j.data("iq.propchange").properties,l={},k=!1,f=f[1],m=f.length;m--;){var n=f[m],p=d.isFunction(j[n])?j[n].call(j):e[n]?e[n]:j.css(n);p!=g[n]&&(l[n]={oldValue:g[n],newValue:p},g[n]=p,k=!0)}k&&j.trigger("propchange",l)}i=setTimeout(a,50)};d.iq.event("propchange",{setup:function(c,f,e,j){f=d(this);j=j.properties={};b.push([this,c]);for(e=c.length;e--;)j[c[e]]=d.isFunction(f[c[e]])?f[c[e]].call(f):this[c[e]]? this[c[e]]:f.css(c[e]);1==b.length&&a()},teardown:function(){for(var a=b.length;a--;)if(this===b[a][0]){b.splice(a,1);break}b.length||clearTimeout(i)}})})(jQuery); (function(d){function i(a){var b=[].slice.call(arguments,1),f=0,e,a=d.event.fix(a||window.event);a.type="mousewheel";if(e=a.wheelDelta)f=e/120;if(e=a.detail)f=-e/3;b.unshift(a,f);return d.event.handle.apply(this,b)}var b=["DOMMouseScroll","mousewheel"];d.iq.event("mousewheel",{setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a], i,!1);else this.onmousewheel=null}})})(jQuery); (function(d){function i(b,a,c,f){var e=c.type,d=c.originalEvent,g=c.target,i=c.relatedTarget;c.target=b[0];c.type=a;c.originalEvent=null;f&&(c.relatedTarget=f);b.trigger(c);c.type=e;c.originalEvent=d;c.target=g;c.relatedTarget=i}d.iq.plugin("forwardMouseEvents",{options:{enableMousemove:!1,dblClickThreshold:500},_init:function(){var b=this.options,a=this.element,c,f,e,j=0,g=0;a.bind("mouseout",function(b){c&&i(c,"mouseout",b,a[0])}).bind("mousemove mousedown mouseup mousewheel",function(l){if(b.enabled&& a.is(":visible")){var k=l.originalEvent,m=k.type,n=k.clientX,k=k.clientY,p;l.stopPropagation();a.hide();p=d(document.elementFromPoint(n,k));a.show();console.log(c);if(p)if((b.enableMousemove||"mousemove"!==m)&&i(p,m,l),c&&p[0]===c[0]){if("mouseup"==m){if(f!=n||e!=k||l.timeStamp-g>b.dblClickThreshold)j=0;f=n;e=k;g=l.timeStamp;i(p,"click",l);2==++j&&(i(p,"dblclick",l),j=0)}}else j=0,c&&i(c,"mouseout",l,p[0]),i(p,"mouseover",l,c?c[0]:a[0]);else i(c,"mouseout",l);c=p}})}})})(jQuery); (function(d,i){var b=d.iq;b.plugin("movable",{options:{handle:null,container:"",moved:b.ret1,axis:"xy",zoneWrap:!0,start:b.ret1,end:b.ret1,movestart:d.noop,moveend:d.noop,moving:d.noop},_triggerOptions:{prependEventPrefix:!1},_init:function(){var a=this,b=a.options,f=a.element,e=b.container?d(b.container):f.parent();f.dragstart({handle:b.handle,container:e,cancel:b.cancel,zoneWrap:b.zoneWrap,offset:b.offset},function(b,c){a._trigger("movestart",b,c)}).drag(function(d,g){var e=g.relative,k=g.start, m=g.bounds,n,p;if(m&&(0<=b.axis.indexOf("x")&&(n=e.x+k.left,n=m.x1<n?m.x2>n?n:m.x2:m.x1,f.css("left",n)),0<=b.axis.indexOf("y")&&(p=e.y+k.top,p=m.y1<p?m.y2>p?p:m.y2:m.y1,f.css("top",p)),n!==i||p!==i))g.current.left=n,g.current.top=p,a._trigger("moving",d,g);return!1}).dragend(function(b,c){a._trigger("moveend",b,c)})}});d.iq.movable.classes={}})(jQuery); (function(d){var i=d.iq;i.plugin("movable",i.movable,{options:{filter:"",autoRefresh:!0},movables:d([]),refresh:function(){var b=this.element;filter=this.options.filter;this.movables=d.isFunction(filter)?filter.call(b[0]):b.find(filter)},_init:function(){var b=this,a=b.element,c=b.options,f,e;c.filter?a.dragstart(function(j,g){e=!1;c.autoRefresh&&b.refresh();if(b.movables.filter(g.target).length){e=!0;var i=a.offset();f=b.movables.each(function(){var b=d(this),f=b.offset(),g=i.left-f.left+(parseInt("auto"== b.css("left")&&"absolute"==b.css("position")?b[0].offsetLeft:b.css("left"))||0)+(parseInt(a.css("border-left-width"))||0)+(parseInt(b.css("marginLeft"))||0)-(parseInt(b.css("margin-left"))||0);minTop=i.top-f.top+(parseInt("auto"==b.css("top")&&"absolute"==b.css("position")?b[0].offsetTop:b.css("top"))||0)+(parseInt(a.css("border-top-width"))||0)+(parseInt(b.css("marginTop"))||0)-(parseInt(b.css("margin-top"))||0);b.data("iq.movable.multi",{start:{left:parseInt(b.css("left")),top:parseInt(b.css("top"))}, bounds:{x1:g,y1:minTop,x2:g+a.innerWidth()-(c.zoneWrap?b.outerWidth():0),y2:minTop+a.innerHeight()-(c.zoneWrap?b.outerHeight():0)}})})}}).drag(function(a,b){e&&(f&&f.length)&&f.each(function(){var a=d(this);relativeData=b.relative;startData=a.data("iq.movable.multi").start;bounds=a.data("iq.movable.multi").bounds;if(0<=c.axis.indexOf("x")){var k=relativeData.x+startData.left,k=bounds.x1<k?bounds.x2>k?k:bounds.x2:bounds.x1;a.css("left",k)}0<=c.axis.indexOf("y")&&(k=relativeData.y+startData.top,k=bounds.y1< k?bounds.y2>k?k:bounds.y2:bounds.y1,a.css("top",k))})}):b._base("_init")}})})(jQuery); (function(d){var i=d.iq,b=d.iq.movable.classes;b.elementClone="iq-movable-clone";b.placeholder="iq-movable-placeholder";i.plugin("movable",i.movable,{options:{domMove:{enabled:!1,cloned:!1,moveAfterDrop:!1,usePlaceHolder:!0,getClone:null,getPlaceHolder:null,helperParent:"parent",mode:"xy",after:null,before:null,firstOf:null,lastOf:null,childOf:"parent",inside:null,notAfter:null,notBefore:null,notFirstOf:null,notLastOf:null,notChildOf:null,notInside:null}},_clone:null,_dragging:!1,_init:function(){var a= this,c=a.element,f=a.options,e=f.domMove,j=e.canInsert,g,l,k,m,n,p,q,r,u,s,t,v=function(b){d("body").unbind("keydown.movable");g.css("position","");b&&t?g.insertBefore(k):g.remove();k.remove();b&&a._trigger("moveEnd",b)};e&&e.enabled?c.dragstart(function(j,w){t=s=!1;if(e.enabled&&(u=f.getMovingElements?f.getMovingElements(j,{target:w.target}):f.filter?c.find(f.filter):c,u.filter(w.target).length)){s=!0;n=0<=e.mode.indexOf("x");p=0<=e.mode.indexOf("y");q=n&&p;var z=e.cloned&&d.isFunction(e.getClone), D=d(w.target),y,A,E=0;r=[];g=d([]);a._trigger("moveInit",j,{target:w.target});u.each(function(){y=d(this);A=(z?e.getClone.call(this):y.clone()).appendTo("parent"==e.helperParent?y.parent():d(e.helperParent)).css({position:"absolute",left:y.position().left,top:y.position().top});g=g.add(A);r[E++]=y.position();this===w.target&&(l=A)});k=(e.usePlaceHolder&&d.isFunction(e.getPlaceHolder)?e.getPlaceHolder.call(c[0]):D.clone().css("visibility","hidden")).addClass(b.placeholder);e.childOf&&(m="parent"== e.childOf?u.parent():d(e.childOf));!e.cloned&&!e.moveAfterDrop&&u.detach();d("body").bind("keydown.movable",function(a){a.which==i.keys.escape&&(s=!1,v())});a._trigger("moveStart",j,{movingElement:l})}}).drag(function(a,b){if(s&&u&&u.length){g.hide();var c=document.elementFromPoint(a.clientX,a.clientY),f=d(c);g.show();if(!(f.is("body,html")||c===document))if($parents=f.parents(),g.each(function(a){d(this).css({top:r[a].top+b.relative.y,left:r[a].left+b.relative.x})}),!(j&&!1===j(a,g,f,$parents)|| c===k[0]||m&&$parents[0]!==m[0]||e.notInside&&$parents.filter(e.notInside).length))if(offset=f.offset()){var i=a.clientX,l=a.clientY,v=offset.left+f.outerWidth()/2,f=offset.top+f.outerHeight()/2,B=i-v,C=f-l;if(l<=f&&(q&&Math.abs(B)<C||!q&&p))k.insertBefore(c),t=!0;else if(i<=v&&(q&&Math.abs(C)<-B||!q&&n))k.insertBefore(c),t=!0;else if(i>=v&&(q&&Math.abs(C)<B||!q&&n))k.insertAfter(c),t=!0;else if(l>=f&&(q&&Math.abs(B)<-C||!q&&p))k.insertAfter(c),t=!0}}}).dragend(function(a){s&&v(a)}):a._base("_init")}})})(jQuery); (function(d){d.iq.plugin("noSelect",{_init:function(){var i=this.element;this.options.enabled?i.bind("selectstart.noselect mousedown.noselect",d.iq.ret0).css("MozUserSelect","none").attr("unselectable","on"):i.unbind("selectstart.noselect mousedown.noselect").css("MozUserSelect","inherit").removeAttr("unselectable","on")},_optionChanged:function(){this._init()}});d.iq.noSelect._autoInstantiate=!0})(jQuery); (function(d,i){var b;d.iq.plugin("resizable",{_enableCorners:function(a,b,f){var e=this.options;e[a]==i&&(e[a]=e[b]&&e[f])},_directions:{TR:"topRight",TL:"topLeft",BR:"bottomRight",BL:"bottomLeft",T:"top",R:"right",B:"bottom",L:"left"},_init:function(){var a=this,c=a.options,f=a._directions,e=a.element;a._enableCorners(f.TR,f.T,f.R);a._enableCorners(f.TL,f.T,f.L);a._enableCorners(f.BR,f.B,f.R);a._enableCorners(f.BL,f.B,f.L);d.each(f,function(j,g){c[g]&&d('<div class="'+b[g]+'"/>').prependTo(e).mousedown(function(b){if(c.enabled){var k= this,j=b.clientX,n=b.clientY,p=e.height(),q=e.width(),r=0<=g.toLowerCase().indexOf(f.T),u=0<=g.toLowerCase().indexOf(f.R),s=0<=g.toLowerCase().indexOf(f.B),t=0<=g.toLowerCase().indexOf(f.L),v=c.minWidth,x=c.maxWidth,w=c.minHeight,z=c.maxHeight;a._trigger("resizeStart",b);d(document).bind("mousemove"+a.eventSuffix,function(b){var c=b.clientY,f=b.clientX,g={};if(r||s)c=(r?n-c:c-n)+p,w&&c<w&&(c=w,g.minHeight=!0),z&&c>z&&(c=z,g.maxHeight=!0),c!=e.height()&&(e.height(c),g.height=c);if(t||u)c=(t?j-f:f- j)+q,v&&c<v&&(c=v,g.minWidth=!0),x&&c>x&&(c=x,g.maxWidth=!0),c!=e.width()&&(e.width(c),g.width=c);if(g.height!==i||g.width!==i)g.handle=k,a._trigger("resizing",b,g)}).bind("mouseup"+a.eventSuffix,function(b){d(document).unbind("mousemove"+a.eventSuffix).unbind("mouseup"+a.eventSuffix);a._trigger("resizeEnd",b)});return!1}})})}});b=d.iq.resizable.classes={container:"iq-resizable-container",top:"iq-resizable-top",right:"iq-resizable-right",bottom:"iq-resizable-bottom",left:"iq-resizable-left",topLeft:"iq-resizable-top-left", topRight:"iq-resizable-top-right",bottomLeft:"iq-resizable-bottom-left",bottomRight:"iq-resizable-bottom-right"}})(jQuery); (function(d){d.iq.plugin("restrictText",{_init:function(){var i=this.element,b=this.options,a=b.filter||"alphanumeric",c="string"===typeof a?d.iq.regex[a]:a;i.bind("keydown.restrictText paste.restrictText",function(){if(b.enabled){var a=i.caret(),e=i.position(),d=i.val(),g=i.clone().css({position:"absolute",left:e.left,top:e.top}).appendTo(i.parent()),l;setTimeout(function(){l=i.val();c.test(l)||""==l?i.val(l):i.val(d).caret(a);g.remove()},0)}})}})})(jQuery); (function(d){var i;d.iq.plugin("scrollable",{options:{autoReset:!0},_applyCss:d.noop,_validateScrollTop:function(b){var a=parseInt(this.element[0].scrollHeight)-this.element.innerHeight();return 0>b?0:b>a?a:b},_validateScrollLeft:function(b){var a=parseInt(this.element[0].scrollWidth)-this.element.innerWidth();return 0>b?0:b>a?a:b},_resetScrollPosition:function(){},scrollTop:function(b){var a=this._hideAndGetHasScrollInfo(),c=this.element,f=c.scrollTop(),b=this._validateScrollTop(b+f);this._showScrollBars(a.x, a.y);c.scrollTop(b);this.reset()},scrollLeft:function(b){var a=this._hideAndGetHasScrollInfo(),c=this.element,f=c.scrollLeft(),b=this._validateScrollLeft(b+f);this._showScrollBars(a.x,a.y);c.scrollLeft(b);this.reset()},_resetPositionY:function(){},_showScrollBars:function(b,a){void 0===a&&(a=b);this._xScrollBar.toggle(b);this._yScrollBar.toggle(a)},_hasScrollX:function(){return parseInt(this.element[0].scrollWidth)>(this.element.is("body")?d("html")[0].clientWidth:this.element.outerWidth())},_hasScrollY:function(){return parseInt(this.element[0].scrollHeight)> (this.element.is("body")?d("html")[0].clientHeight:this.element.outerHeight())},_hideAndGetHasScrollInfo:function(){this._showScrollBars(!1);return{x:this._hasScrollX(),y:this._hasScrollY()}},_resetting:!1,reset:function(){if(!this._resetting){this._resetting=!0;this._showScrollBars(!1);var b=this.element,a=this._hideAndGetHasScrollInfo(!0),c=b[0].scrollWidth,f=b[0].scrollHeight;this._showScrollBars(a.x,a.y);if(a.x){this._xWrapper.css("width",Math.floor(b.innerWidth()-this._xLeft.outerWidth()-this._xRight.outerWidth()- this._xyScrollBar.outerWidth()));var d=this._xWrapper.innerWidth();this._xScrollBar.width(b.innerWidth()).position({my:"0px 100%",at:"0px 100%",of:b,offset:{left:parseInt(b.css("border-left-width")),top:-parseInt(b.css("border-top-width"))}});this._xHandle.css("width",Math.floor(d*b.outerWidth()/c)).css("left",Math.floor(b.scrollLeft()*(d-this._xHandle.outerWidth())/(c-b.outerWidth())))}a.y&&(this._yWrapper.css("height",Math.floor(b.innerHeight()-this._yTop.outerHeight()-this._yBottom.outerHeight()- this._yxScrollBar.outerHeight())),a=this._yWrapper.height(),this._yScrollBar.position({my:"100% 0px",at:"100% 0px",of:b,offset:{top:parseInt(b.css("border-top-width")),left:-parseInt(b.css("border-left-width"))}}),this._yHandle.css("height",Math.floor(a*b.outerHeight()/f)).css("top",Math.floor(b.scrollTop()*(a-this._yHandle.outerHeight())/(f-b.outerHeight()))));this._resetting=!1}},_init:function(){var b=this,a=b.element;b._overflow={x:a.css("overflow-x"),y:a.css("overflow-y")};a.addClass(i.container); a.is("body")&&d("html").addClass(i.containerBody);var c=b._xScrollBar=d('<div class="'+i.xScrollBar+'"><div class="'+i.arrowLeft+'"/><div class="'+i.xHandleContainer+'"><div class="'+i.xHandle+'"/></div><div class="'+i.arrowRight+'"/><div class="'+i.xyScrollbar+'"/></div>').appendTo(a),f=b._yScrollBar=d('<div class="'+i.yScrollBar+'"><div class="'+i.arrowTop+'"/><div class="'+i.yHandleContainer+'"><div class="'+i.yHandle+'"/></div><div class="'+i.arrowBottom+'"/><div class="'+i.xyScrollbar+'"/></div>').appendTo(a); b._xyScrollBar=c.find("."+i.xyScrollbar);b._yxScrollBar=f.find("."+i.xyScrollbar);b._xHandle=c.find("."+i.xHandle).movable({axis:"x",moving:function(d,j){var g=b._hideAndGetHasScrollInfo(!0),i=Math.floor(j.current.left*(a[0].scrollWidth-a.innerWidth())/(b._xWrapper.outerWidth()-b._xHandle.outerWidth())),k=parseInt(a.css("padding-left"));b._showScrollBars(g.x,g.y);a.scrollLeft(i);c.css("left",i-k);f.css("left",i+a.innerWidth()-b._yScrollBar.innerWidth()-k)}});b._yHandle=f.find("."+i.yHandle).movable({axis:"y", movestart:function(){a.scrollTop()},moving:function(d,j){var g=b._hideAndGetHasScrollInfo(!0),i=Math.ceil(j.current.top*(a[0].scrollHeight-a.innerHeight())/(b._yWrapper.innerHeight()-b._yHandle.outerHeight())),k=a.scrollTop();b._showScrollBars(g.x,g.y);a.scrollTop(i);c.css("top",parseInt(c.css("top"))+(i-k));f.css("top",parseInt(f.css("top"))+(i-k))}});b._yTop=f.find("."+i.arrowTop).mousedown(function(){b.scrollTop(-30);return!1});b._yBottom=f.find("."+i.arrowBottom).mousedown(function(){b.scrollTop(30); return!1});b._xLeft=c.find("."+i.arrowLeft).mousedown(function(){b.scrollLeft(-30);return!1});b._xRight=c.find("."+i.arrowRight).mousedown(function(){b.scrollLeft(30);return!1});b._yWrapper=f.find("."+i.yHandleContainer).click(function(c){var c=c.pageY,f=b._yHandle.offset().top,g=a.innerHeight();if(c>f+b._yHandle.height())return b.scrollTop(g-50),!1;if(c<f)return b.scrollTop(-g+50),!1});b._xWrapper=c.find("."+i.xHandleContainer).click(function(c){var c=c.pageX,f=b._xHandle.offset().left,g=a.innerWidth(); if(c>f+b._xHandle.innerWidth())return b.scrollLeft(g-50),!1;if(c<f)return b.scrollLeft(-g+50),!1});a.mousewheel(function(a,c){b.scrollTop(30*-c);return!1});b.options.autoReset&&a.bind("propchange",["scrollHeight","scrollWidth","offsetHeight"],function(){b.reset()});b.reset()}});i=d.iq.scrollable.classes={container:"iq-scrollable",containerBody:"iq-scrollable-body",xScrollBar:"iq-scrollable-x",arrowLeft:"iq-scrollable-x-arrow-left",arrowRight:"iq-scrollable-x-arrow-right",xHandle:"iq-scrollable-x-handle", xHandleContainer:"iq-scrollable-x-handle-container",yScrollBar:"iq-scrollable-y",arrowTop:"iq-scrollable-y-arrow-top",arrowBottom:"iq-scrollable-y-arrow-bottom",yHandle:"iq-scrollable-y-handle",yHandleContainer:"iq-scrollable-y-handle-container",xyScrollbar:"iq-scrollable-xy"}})(jQuery); (function(d){var i=d.iq,b;i.plugin("accordion",{options:{mode:"single",defaultState:"Expanded",animate:!1,duration:100,easing:"linear",arrowWithoutContent:!1},selectedItem:null,_toggleItem:function(a,c,f,d){var j=this.options,g=function(){i.addClass(b["content"+f]).removeClass(b["content"+d]);a.addClass(b["header"+f])},i,k=this.selectedItem;"number"===typeof a&&(a=$this.find(">h3:eq("+a+")"));if("single"!=j.mode||!k||k[0]!=a[0])if("slideToggle"==c&&(a.hasClass(b.headerExpanded)?(f="Collapsed",d="Expanded"): (f="Expanded",d="Collapsed")),i=a.next().filter("div"),k&&(k.removeClass(b.headerSelected),"single"==j.mode&&i.length&&(this.selectedItem=null,this.collapseItem(k))),"slideUp"!=c&&(this.selectedItem=a.addClass(b.headerSelected),i.addClass(b.contentSelected)),i.length||j.arrowWithoutContent)if(a.removeClass(b["header"+d]),a.find("."+b.arrow).removeClass(b["arrow"+d]).addClass(b["arrow"+f]),j.animate&&i.length)i[c](j.duration,j.easing,g);else g()},expandItem:function(a){this._toggleItem(a,"slideDown", "Expanded","Collapsed")},toggleItem:function(a){this._toggleItem(a,"slideToggle")},collapseItem:function(a){this._toggleItem(a,"slideUp","Collapsed","Expanded")},_setupItem:function(a){var c=this.options,f="Collapsed",e;if("single"!=c.mode||!this._singleItemSelected)if("Collapsed"==c.defaultState&&a.hasClass(b.headerExpanded)||"Collapsed"!=c.defaultState&&!a.hasClass(b.headerCollapsed))if(f="Expanded",this.selectedItem=a,e=a.removeClass(b.headerCollapsed).removeClass(b.headerExpanded).next().filter("div"), e.length||c.arrowWithoutContent)this._singleItemSelected=!0,e.removeClass(b.contentCollapsed).removeClass(b.contentExpanded);a.addClass(b.header).hoverClass(b.headerHover).find(">a").addClass(b.headerAnchor);e=a.next().filter("div");if(e.length||c.arrowWithoutContent)e.addClass(b.content).addClass(b["content"+f]),a.hoverClass(b.arrowHover).find(">a").prepend(d("<span class='"+b.arrow+" "+b["arrow"+f]+"'><span/></span>"));a.addClass(e.length?b["header"+f]:b.headerCollapsed)},_init:function(){var a= this,c=a.element.addClass(b.container);c.find(">h3").each(function(){a._setupItem(d(this))});delete a._singleItemSelected;a._delegate("."+b.headerAnchor,"click",function(c){var e=!d(c.target).is("."+b.headerAnchor),j=d(c.currentTarget),g=j.parent(),l={target:g,index:g.prev("h3").length},k=g.hasClass(b.headerExpanded),m=k?"Collapsing":"Expanding",k=k?"Collapsed":"Expanded",n=!1;e||(n=!i.regex.noLink.test(j.attr("href")));if((!n||e)&&a._trigger("item"+m,c,l))a.toggleItem(g),a._trigger("item"+k,c,l); if(e||!n)return!1});return c}});b=d.iq.accordion.classes={container:"iq-accordion",header:"iq-accordion-header",headerHover:"iq-accordion-header-hover",headerExpanded:"iq-accordion-header-expanded",headerCollapsed:"iq-accordion-header-collapsed",headerActive:"iq-accordion-header-active",headerAnchor:"iq-accordion-header-a",headerSelected:"iq-accordion-header-selected",arrow:"iq-accordion-header-arrow",arrowHover:"iq-accordion-header-arrow-hover",arrowCollapsed:"iq-accordion-header-arrow-collapsed", arrowExpanded:"iq-accordion-header-arrow-expanded",content:"iq-accordion-content",contentExpanded:"iq-accordion-content-expanded",contentCollapsed:"iq-accordion-content-collapsed",contentActive:"iq-accordion-content-active",contentSelected:"iq-accordion-content-selected"}})(jQuery); (function(d,i){var b=d.iq,a,c=function(b){var e=d("<ul/>"),j,g;d(b).each(function(){d.isArray(this)?c(this):(j=d("<li/>").append(d("<a href='#'/>").append(d("<span />").text(this.name))),g=j.find("a"),this.option&&j.attr("option",this.option),this.css&&j.addClass(this.css),this.img&&g.prepend(d("<img />").addClass(a.image).attr("src",this.img)),this.href&&g.attr("href",this.href),this.nodes&&j.append(d("<div/>").append(c(this.nodes))),j.appendTo(e))});return e};b.plugin("menu",{options:{selectedIndex:0, orientation:"Horizontal",clicking:d.noop,clicked:d.noop,animate:!0,duration:"fast",closeDelay:0,open:d.noop,close:d.noop,trigger:"click",triggerToggleEvents:!1,arrowAlways:!1,enableIcons:!1,enableGrouping:!1},eventPrefix:"menu",_itemOpened:null,_mouseEnter:function(b,c,j){b.stopImmediatePropagation();c=d(b.currentTarget).addClass(a.itemHover);c.prev().addClass(a.itemHoverPrev);c.next().addClass(a.itemHoverNext);c.find(">a").addClass(a.itemAnchorHover);if(!c.hasClass(a.itemOpened)){if(c.hasClass(a.itemClosing)|| c.parents("."+a.itemClosing).length)return!1;(j||"hover"==this.options.trigger)&&this._toggle(c,b,!0)}},_mouseLeave:function(b,c,j){c=c||b.currentTarget;d(b.relatedTarget).parents("."+a.item).filter(c).length||(c=d(c),c.find(">a").removeClass(a.itemAnchorHover),(j||"hover"==this.options.trigger)&&this._toggle(c,b,!1),c.removeClass(a.itemHover).prev().removeClass(a.itemHoverPrev),c.next().removeClass(a.itemHoverNext))},_click:function(c){var e=this,j=c.currentTarget,g=d(j),i=g.find(">a"),k=d(c.target), k=k.is("."+a.itemArrow)||k.parent().is("."+a.itemArrow),m=!1;g.parent().parent().find("."+a.itemOpened).not(g[0]).each(function(){e._mouseLeave(c,this,!0)});k||(m=!b.regex.noLink.test(i.attr("href")));if((!m||k)&&e._trigger("clicking",c,{target:j}))e._toggle(g,c),e._trigger("clicked",c,{target:j});k||c.stopImmediatePropagation();if(!m)return!1},_toggle:function(b,c,d){var d=d===i?!b.hasClass(a.itemOpened):d,g=this.options,l=d?"opened":"closed",k={},m,n,p,q=!1,r=function(){b.prev("."+a.item).toggleClass(a.itemOpenedPrev, d);b.next("."+a.item).toggleClass(a.itemOpenedNext,d);b.toggleClass(a.itemOpened+" "+a.itemSelected,d).find(">div")[d?"show":"hide"]();b.find(">a").toggleClass(a.itemAnchorOpened+" "+a.itemAnchorSelected,d);d||b.removeClass(a.itemClosing);q&&p.toggleClass(a.containerActive,d)};if(!g.triggerToggleEvents||this._trigger(d?"opening":"closing",c,{target:b[0]}))m=b.toggleClass(a.itemClosing,!d).find(">div"),p=b.parent().parent(),q=p.hasClass(a.container),g.animate&&m.length?(d&&r(),"Vertical"!=g.orientation&& q?(n=m.show().css({width:m.width(),height:""}).height(),d?(m.height(0),k.height=n):(m.height(n),k.height=0)):k.width=d?"show":"hide",m.stop(!1,!0).animate(k,g.duration||0,g.easing,r)):(r(),m.toggle(d)),this.options.triggerToggleEvents&&this._trigger(l,c,{target:b[0]})},_clickOutside:function(b){var c=this;c.element.find(">ul").find("."+a.itemOpened).each(function(){c._mouseLeave(b,this,!0)})},_bindEvents:function(){var b=this;b._delegate("."+a.item,{mouseenter:"_mouseEnter",mouseleave:"_mouseLeave"}); "click"==b.options.trigger&&(b._delegate("."+a.item,{click:"_click"}),b.element.find(">ul").bind("clickoutside",function(a){b._clickOutside(a)}))},_initItem:function(b,c){var j=b.find(">div:not("+a.itemTemplate+")").addClass(a.itemsWrapper).hide().find(">ul"),g=b.find(">a").addClass(a.itemAnchor),i=0==g.length,k=this.options.arrowAlways,m,n=this.options.enableIcons;b.addClass(a.item+" "+(i?a.itemSeparator:""));i?b.find(">span").addClass(a.itemSeparatorSpan).append("<span/>").toggleClass(a.itemSeparatorNoIcon, c||!n):(0<j.length&&(g.addClass(a.itemAnchorHasChild),m=k=!0,this._initItems(j)),!c&&n&&(g.addClass(a.itemAnchorHasIcon),d("<span class='"+a.itemIcon+"'><span/></span>").prependTo(g)),k&&(j=d("<span class='"+a.itemArrow+"'><span/></span>").prependTo(g),m&&j.addClass(a.itemArrowHasChild)))},_initItems:function(b){var c=this,j=b.hasClass(a.itemsNoIcon),b=b.addClass(a.items).find(">li").each(function(){c._initItem(d(this),j)});b.eq(0).addClass(a.itemFirst);b.last().addClass(a.itemLast)},_initMenu:function(){var c= this.options,d;d=this.element;c.data&&b.menu.create(d,c.data);d=d.find(">ul").toggleClass(a.itemsHasGroups,c.enableGrouping);this._initItems(d);0<=c.selectedIndex&&d.find(">li").eq(c.selectedIndex).addClass(a.itemSelected)},_init:function(){this.element.addClass(a.container).addClass(a[this.options.orientation.toLowerCase()||"horizontal"]);this._initMenu();this._bindEvents()}});b.menu.create=function(a,d){var j=a.attr("id");if((d.id||d.randomId)&&!j)a.attr("id",d.id?d.id:d.randomId?"iq-menu-"+b.rand(1E4): "");return a.append(c(d))};a=d.iq.menu.classes={container:"iq-menu",containerActive:"iq-menu-active",horizontal:"iq-menu-horizontal",vertical:"iq-menu-vertical",items:"iq-menu-items",itemsNoIcon:"iq-menu-items-no-icon",itemsHasGroups:"iq-menu-items-has-groups",itemsWrapper:"iq-menu-items-wrapper",item:"iq-menu-item",itemArrow:"iq-menu-item-arrow",itemArrowHasChild:"iq-menu-item-arrow-has-child",itemIcon:"iq-menu-item-icon",itemFirst:"iq-menu-item-first",itemLast:"iq-menu-item-last",itemAnchor:"iq-menu-item-a", itemAnchorHover:"iq-menu-item-a-hover",itemAnchorOpened:"iq-menu-item-a-opened",itemAnchorSelected:"iq-menu-item-a-selected",itemSeparator:"iq-menu-item-seperator",itemSeparatorSpan:"iq-menu-item-seperator-span",itemSeparatorNoIcon:"iq-menu-item-seperator-no-icon",itemAnchorHasIcon:"iq-menu-item-a-has-icon",itemAnchorHasChild:"iq-menu-item-a-has-child",itemHover:"iq-menu-item-hover",itemHoverPrev:"iq-menu-item-hover-previous",itemHoverNext:"iq-menu-item-hover-next",itemOpened:"iq-menu-item-opened", itemOpenedPrev:"iq-menu-item-opened-previous",itemOpenedNext:"iq-menu-item-opened-next",itemTemplate:"iq-menu-item-template",itemClosing:"iq-menu-item-closing",itemOpening:"iq-menu-item-opening",itemSelected:"iq-menu-item-selected",itemSelectedPrevious:"iq-menu-item-selected-previous",itemSelectedNext:"iq-menu-item-selected-next"}})(jQuery); (function(d){var i;d.iq.plugin("breadcrumb",d.iq.menu,{options:{arrowText:"",searchMode:"title",searchSeparator:"/",defaultPath:"",defaultName:"",defaultHref:""},_setData:function(b){var a=this.options,c=[];a.arrowAlways=!0;this.element.empty();this._search(a.rawData,a.searchMode,b,c,0);a.data=c},select:function(b){options.rawData&&(this._setData(b),this._base("_initMenu"))},_search:function(b,a,c,f,e){var j=this,g,l,k=function(a,b,c){d.each(b,function(b,k){if("path"==a&&k.name==c||k.name==c.name)k.css= (k.css||"")+" "+i.itemSelected;delete k.nodes})},m="title"==a?"name":a;d(b).each(function(){if("path"==a){if(this.name==c[e])if(l=d.extend(!0,{},this),f.push(l),e++,e<c.length)l.nodes&&k(a,l.nodes,c[e]);else return!1}else if(this[m]==c)return g=d.extend({},this),g.nodes&&d.each(g.nodes,function(a,b){delete b.nodes}),f.unshift(g),!1;if(this.nodes&&(g=j._search(this.nodes,a,c,f,e)))return l=d.extend(!0,{},this),k(a,l.nodes,g),f.unshift(g=l),!1});return g},_init:function(){var b=this.options,a=b.searchMode; b.trigger="click";b.orientation="Horizontal";this._setData("href"==a?b.defaultHref||window.location.href:"title"==a?document.title||"":"name"==a?b.defaultName||"":"path"==a?b.defaultPath.split(b.searchSeparator):"");this._base("_init");this.element.addClass(i.container).find(">ul>li>a>."+i.itemArrow+" span").text(b.arrowText||"")}});i=d.iq.breadcrumb.classes=d.extend({},d.iq.breadcrumb.classes,{container:"iq-breadcrumb",breadcrumbPath:"iq-breadcrumb-path"})})(jQuery); (function(d,i){var b;d.iq.plugin("contextMenu",d.iq.menu,{options:{enableIcons:!0,enableGrouping:!0},_allBindings:[],_activeBinding:null,_activeElement:null,_getBinding:function(a){var b=null;a&&d(this._allBindings).each(function(){if(this.id===a)return b=this,!1});return b},_clickOutside:function(){this._base("_clickOutside",arguments);this.element.hide()},close:function(){instance.element.hide()},_open:function(a){var c=this.element;c.find(">ul");c.addClass(b.opened).css({left:a.left,top:a.top, visibility:"hidden"}).show();c.css("visibility","visible")},open:function(a){var b=a.binding||this._getBinding(a.id);element=a.element||(b?b.elements:null);if(b&&b.menuOpening===i||b.menuOpening.call(this.element,element))this._activeBinding=b,this._activeElement=element,this._open(a),b.menuOpened&&b.menuOpened($this,element);return this.element},addBindings:function(a){if(a){var b=this;d(a).each(function(){var a=this;b._allBindings.push(a);d(a.elements).each(function(){d(this).bind("contextmenu", function(e){var j=d(this).offsetParent().position();b.open({left:-j.left+e.pageX+5,top:-j.top+e.pageY+3,binding:a,element:d(this)});return!1})})})}},_init:function(){var a=this.options;a.trigger="click";a.orientation="Vertical";this._base("_init");this.element.addClass(b.container).find(">ul>li>a>."+b.itemArrow+" span").text(a.arrowText||"");a.bindings&&this.addBindings(a.bindings)}});b=d.iq.contextMenu.classes=d.extend({},d.iq.contextMenu.classes,{container:"iq-context"})})(jQuery); (function(d){var i=d.iq,b=d.iq.contextMenu.classes,a=i.keys;d.extend(b,{hiddenLink:"iq-context-hiddenlink",hidden:"iq-hidden"});i.plugin("contextMenu",i.contextMenu,{options:{},_getParentNode:function(a){a=a.parent();return a.hasClass(b.menus)&&(a=a.parent(),a.hasClass(b.menu))?a:null},getNextMenu:function(a){var b=a.next("li:visible:eq(0)");return 0<b.length?b:a},getPrevMenu:function(a){var b=a.prev("li:visible:eq(0)");return 0<b.length?b:a},_focusItem:function(a){this.focusedItem=a.attr("tabindex", 0);a.find(">."+b.item).addClass(b.itemFocused)},_blurItem:function(a){a.find(">."+b.item).removeClass(b.itemFocused)},focusItem:function(a){a&&a.trigger("focus"+this.eventSuffix)},blurItem:function(a){a&&a.trigger("blur"+this.eventSuffix)},_setupMenu:function(a){var d=this;d._base("_setupMenu",a);a.attr("tabindex",-1).bind("focus"+d.eventSuffix,function(b){d._focusItem(a);b.stopPropagation()}).bind("blur"+d.eventSuffix,function(){d._blurItem(a)}).find("."+b.item+":eq(0)").attr("tabindex",-1)},_open:function(a){this._base("_open", a);this.focusedItem=null;this.element.find("."+b.hiddenLink).focus();return this.element},_close:function(){var a=this,f;a._base("_close");a.element.find("."+b.itemFocused).each(function(){f=d(this).parent();a.hideSubMenu(f);a._blurItem(a.focusedItem)});a.focusedItem&&a.blurItem(a.focusedItem)},_init:function(){var c=this,d=c.element,e;c._base("_init");d.bind("keydown"+c.eventSuffix,function(j){switch(j.which){case a.down:if(c.focusedItem){if(e=c.getNextMenu(c.focusedItem))c.focusedItem.attr("tabindex", -1),c._blurItem(c.focusedItem),c.focusItem(e)}else c.focusItem(d.find(">ul>li:visible:first"));break;case a.up:c.focusedItem.attr("tabindex",-1);c._blurItem(c.focusedItem);c.focusItem(c.getPrevMenu(c.focusedItem));break;case a.left:case a.escape:if(j.which==a.escape&&(!c.focusedItem||1==c.focusedItem.data("iq-context-path-index").split("|").length)){c.close();break}if(c.focusedItem&&(e=c._getParentNode(c.focusedItem)))c._blurItem(c.focusedItem),c.hideSubMenu(e),c.focusItem(e);break;case a.right:c.focusedItem&& (e=c.focusedItem,c.showSubMenu(e),c.focusItem(e.find(">ul:visible:first>li:visible:first")),setTimeout(function(){e.find(">."+b.item).addClass(b.itemFocused)},0));break;case a.tab:c.focusedItem.attr("tabindex",0);break;default:return!0}return!1}).find(">li:eq(0)").attr("tabindex",0);d.prepend("<a href='#' class='"+b.hiddenLink+" "+b.hidden+"'/>")}})})(jQuery); (function(d){var i=d.iq,b;i.plugin("tabstrip",{options:{selectedIndex:0,orientation:"HorizontalTop",selected:function(a,b){i.regex.noLink.test(d(b.target).find(">a").attr("href"))&&a.preventDefault()}},eventPrefix:"tab",selectedTab:null,selectTab:function(a){var c=this.element.find(">ul>li"),d=[this.selectedTab],e=["remove","add"],j=0;for(d[1]="number"==typeof a?c.eq(a):a;2>j;)null!=d[j]&&(d[j][e[j]+"Class"](b.tabSelected),d[j].prev()[e[j]+"Class"](b.tabSelectedPrevious),d[j].next()[e[j]+"Class"](b.tabSelectedNext)), j++;this.selectedTab=d[1]},_init:function(){var a=this,c=a.element.addClass(b.container),f=c.find(">ul").addClass(b.tabs),e=a.options.orientation,j=f.find(">li").addClass(b.tab),g=a.options.selectedIndex;d.each("horizontal vertical top left bottom right".split(" "),function(a,d){0<=e.toLowerCase().indexOf(d)&&c.addClass(b[d])});null!=g&&void 0!=g&&(a.selectedTab=j.eq(g).addClass(b.tabSelected));a._delegate(f,"li",{click:function(b){var c=b.currentTarget;a._trigger("selecting",b,{target:c})&&(a.selectTab(d(c)), a._trigger("selected",b,{target:c}))},hover:function(a){d(a.currentTarget).toggleClass(b.tabHover)}});j.last().addClass(b.tabLast);j.first().addClass(b.tabFirst);return c}});b=d.iq.tabstrip.classes={container:"iq-tabstrip",horizontal:"iq-tabstrip-horizontal",vertical:"iq-tabstrip-vertical",top:"iq-tabstrip-top",bottom:"iq-tabstrip-bottom",left:"iq-tabstrip-left",right:"iq-tabstrip-right",tabs:"iq-tabstrip-tabs",tab:"iq-tabstrip-tab",tabFirst:"iq-tabstrip-tab-first",tabLast:"iq-tabstrip-tab-last", tabSelected:"iq-tabstrip-tab-selected",tabSelectedPrevious:"iq-tabstrip-tab-selected-previous",tabSelectedNext:"iq-tabstrip-tab-selected-next",tabHover:"iq-tabstrip-tab-hover"}})(jQuery); (function(d){var i=d.iq,b;i.plugin("tabs",{options:{selectedIndex:0,orientation:"HorizontalTop",tabstrip:">div:eq(0)",multiview:">div:eq(1)",tabstrip2:""},eventPrefix:"tab",_$tabstrip1:null,_$tagstrip2:null,selectTab:function(a){var b=this._$tabstrip1.find("li").length,f=!this._$tabstrip2||a<b;this._$tabstrip1.tabstrip("selectTab",f?a:null);this._$tabstrip2&&this._$tabstrip2.tabstrip("selectTab",f?null:a-b);d(".iq-multiview:eq(0)",this.element).multiview("activeView",a)},_init:function(){var a=this, c=a.options,f=a.element.addClass(b.container),e=a.options.orientation,j=c.selectedIndex,g,l=d(c.multiview,f).addClass(b.multiviewContainer).find(">div:eq(0)").multiview({selectedIndex:j});a._$tabstrip1=d(c.tabstrip,f);a._$tabstrip2=c.tabstrip2?d(c.tabstrip2,f):null;g=a._$tabstrip1.find("li").length;c=j<g;d.each("horizontal vertical top left bottom right".split(" "),function(a,c){0<=e.toLowerCase().indexOf(c)&&f.addClass(b[c])});a._$tabstrip1.tabstrip({selectedIndex:c?j:null,orientation:e,selected:function(b, c){var g=d(c.target).prevAll().length;l.multiview("activeView",g);i.regex.noLink.test(d(c.target).find(">a").attr("href"))&&b.stopOriginalEvent();a._$tabstrip2&&a._$tabstrip2.tabstrip("selectTab",null);a._trigger("selected",b,{target:c.target,selectedIndex:g,tabPage:l.find(">div:eq("+g+")")})}});a._$tabstrip2&&(d.each({Top:"Bottom",Bottom:"Top",Left:"Right",Right:"Left"},function(a,b){if(0<=e.indexOf(a))return e=e.replace(a,b),!1}),a._$tabstrip2.tabstrip({selectedIndex:c?null:j-g,orientation:e,selected:function(b, c){var g=d(c.target).prevAll().length;l.multiview("activeView",a._$tabstrip1.find("li").length+g);i.regex.noLink.test(d(c.target).find(">a").attr("href"))&&b.stopOriginalEvent();a._$tabstrip1.tabstrip("selectTab",null);a._trigger("selected",b,{target:c.target,selectedIndex:g,tabPage:l.find(">div:eq("+g+")")})}}));return f}});b=d.iq.tabs.classes={container:"iq-tabs",horizontal:"iq-tabs-horizontal",vertical:"iq-tabs-vertical",top:"iq-tabs-top",bottom:"iq-tabs-bottom",left:"iq-tabs-left",right:"iq-tabs-right", multiviewContainer:"iq-multiview-container"}})(jQuery); (function(d){var i=d.iq,b;i.plugin("treeview",{options:{defaultState:"expanded",selecting:i.ret1,selected:function(a,b){var f=d(b.target);return!i.regex.noLink.test(f.find(">div>a").attr("href"))}},eventPrefix:"treenode",focusedNode:null,hoveredNode:null,selectedNode:null,unselectNode:function(a){a.toggleClass(b.nodeSelected).find(">div>a."+b.itemAnchor+":eq(0)").removeClass(b.itemAnchorSelected);selectedNode=null;return this.element},selectNode:function(a){this.getSelected().toggleClass(b.nodeSelected).find(">div>a."+b.itemAnchor+ ":eq(0)").removeClass(b.itemAnchorSelected);a.toggleClass(b.nodeSelected).find(">div>a."+b.itemAnchor+":eq(0)").addClass(b.itemAnchorSelected).removeClass(b.itemHover);selectedNode=a},getSelected:function(){var a=this.element.find(">ul"),c="."+b.nodeSelected;return a.find(">li"+c).add(a.find("li>ul>li"+c))},_expandAnimate:function(a){a.animate({height:"toggle"},50)},_collapseAnimate:function(a){a.animate({height:"toggle"},50)},expandNode:function(a){this._expandAnimate(a.editClass(b.nodeCollapsed, b.nodeExpanded).find(">ul"));a.find(">div>."+b.arrow+":eq(0)").editClass(b.arrowPlus,b.arrowMinus);return this.element},collapseNode:function(a){this._collapseAnimate(a.editClass(b.nodeExpanded,b.nodeCollapsed).find(">ul"));a.find(">div>."+b.arrow+":eq(0)").editClass(b.arrowMinus,b.arrowPlus);return this.element},toggleNode:function(a){a.hasClass(b.nodeExpanded)?this.collapseNode(a):this.expandNode(a);return this.element},_setupParentNode:function(a){var c=this.options,f=a.find(">ul").show(),e=b.arrowMinus, j=b.nodeExpanded;if("expanded"==c.defaultState&&a.hasClass(b.nodeCollapsed)||"expanded"!=c.defaultState&&!a.hasClass(b.nodeExpanded))j=b.nodeCollapsed,e=b.arrowPlus,a.removeClass(b.nodeCollapsed).removeClass(b.nodeExpanded),f.hide();a.addClass(j).find(">div").prepend(d("<span class='"+b.arrow+" "+e+"'><span/></span>"));return this.element},_setupInnerNode:d.noop,_setupNode:function(a){var c=a.addClass(b.node).find(">ul").length;1==c?this._setupParentNode(a):0==c&&this._setupInnerNode(a);0==a.prevAll().length&& a.addClass(b.nodeFirst);0==a.nextAll().length&&(a.prev().removeClass(b.nodeLast),a.addClass(b.nodeLast));a.find(">div").addClass(b.item).not("."+b.nodeTemplate).find(">a").addClass(b.itemAnchor);return this.element},_initTree:function(a){var c=this,f,e=a.parent(),j=e.hasClass(b.node),g=j?e.data("iq-treeview-path-index"):"",i=j?e.data("iq-treeview-path-names"):"",g=g?g+"|":"",i=i?i+"|":"";a.addClass(b.nodes).find(">li").each(function(a){f=d(this);c._setupNode(f.data("iq-treeview-path-index",g+a).data("iq-treeview-path-names", i+f.find(">div>a").text()));c._initTree(f.find(">ul"))})},_init:function(){var a=this,c=a.options,f=a.element.addClass(b.container),e=f.find(">ul").addClass(b.nodes);a._initializing=!0;a._initTree(e);a._initializing=!1;0<f.find(">h3").addClass(b.heading).length&&(e.find(">li:eq(0)").addClass(b.nodeHead),e.addClass(b.nodesHead));a._delegate(e,"."+b.item,"hover",function(a){d(a.currentTarget).toggleClass(b.itemHover)});a._delegate(e,"."+b.itemAnchor,{hover:function(a){d(a.currentTarget).toggleClass(b.itemAnchorHover)}, click:function(b){var c=d(b.currentTarget).closest("li");return a._trigger("selecting",b,{target:c[0]})?(a.selectNode(c),a._trigger("selected",b,{target:c[0]})):!1}});a._delegate(e,"."+b.arrow,"click",function(f){f=d(f.currentTarget).closest("li");"single"==c.expandMode&&a.toggleNode(f.siblings(b.nodeExpanded));a.toggleNode(f)});return f}});b=d.iq.treeview.classes={container:"iq-treeview",heading:"iq-treeview-heading",nodes:"iq-treeview-nodes",nodesRoot:"iq-treeview-nodes-root",nodesHead:"iq-treeview-nodes-with-head", node:"iq-treeview-node",nodeFirst:"iq-treeview-node-first",nodeHead:"iq-treeview-node-with-head",nodeLast:"iq-treeview-node-last",nodeSelected:"iq-treeview-node-selected",nodeCollapsed:"iq-treeview-node-collapsed",nodeExpanded:"iq-treeview-node-expanded",nodeTemplate:"iq-treeview-node-template",item:"iq-treeview-item",itemHover:"iq-treeview-item-hover",itemSelected:"iq-treeview-item-selected",itemFocused:"iq-treeview-item-selected",itemAnchor:"iq-treeview-item-a",itemAnchorHover:"iq-treeview-item-a-hover", itemAnchorSelected:"iq-treeview-item-a-selected",itemAnchorFocused:"iq-treeview-item-a-focused",arrow:"iq-treeview-arrow",arrowPlus:"iq-treeview-arrow-plus",arrowMinus:"iq-treeview-arrow-minus"}})(jQuery); (function(d){var i=d.iq,b=d.iq.treeview.classes,a=i.keys;d.extend(b,{skipLinkTree:"iq-treeview-skiplink",skipLink:"iq-skiplink",skipLinkFocus:"iq-skiplink-focus"});i.plugin("treeview",i.treeview,{options:{skip:{enabled:!0,id:"",external:!1,randomId:!0,text:"Skip Navigation"}},_getNextParent:function(a){var d=a.next("li:visible:first");if(0<d.length)return d;$parentNode=a.parent();return $parentNode.hasClass(b.nodes)&&($parentNode=$parentNode.parent(),$parentNode.hasClass(b.node))?(d=$parentNode.next("li:visible"), 0<d.length?d:(d=this._getNextParent($parentNode))?d:a):null},_getLastChild:function(a){var d=a.find(">ul:visible:last>li:visible:last");return 0<d.length&&0<d.find("."+b.itemAnchor+":eq(0)").length&&(d=this._getLastChild(d))&&0<d.length?d:a},getNextNode:function(a){var d=a.find(">ul:visible:first>li:visible:first");return 0<d.length&&0<d.find("."+b.itemAnchor+":eq(0)").length?d:(d=this._getNextParent(a))||a},getPrevNode:function(a){var d;d=a.prev("li:visible:first");if(0<d.length)return this._getLastChild(d); d=a.parent();return d.hasClass(b.nodes)&&(d=d.parent(),d.hasClass(b.node))?d:a},focusNode:function(a){a&&a.trigger("focus"+this.eventSuffix)},blurNode:function(a){a&&a.trigger("blur"+this.eventSuffix)},_setupNode:function(a){var d=this;d._base("_setupNode",a);a.attr("tabindex",-1).bind("focus"+d.eventSuffix,function(e){d.focusedNode=a.attr("tabindex",0);a.find("."+b.itemAnchor+":eq(0)").addClass(b.itemAnchorFocused);e.stopPropagation()}).bind("blur"+d.eventSuffix,function(){a.find("."+b.itemAnchor+ ":eq(0)").removeClass(b.itemAnchorFocused)}).find("."+b.itemAnchor+":eq(0)").attr("tabindex",-1)},_init:function(){var c=this,f=c.element,e=c.options.skip,j;c._base("_init");f.find(">ul").bind("keydown"+c.eventSuffix,function(b){switch(b.which){case a.down:c.focusedNode.attr("tabindex",-1);c.blurNode(c.focusedNode);c.focusNode(c.getNextNode(c.focusedNode));break;case a.up:c.focusedNode.attr("tabindex",-1);c.blurNode(c.focusedNode);c.focusNode(c.getPrevNode(c.focusedNode));break;case a.left:case a.right:c.toggleNode(c.focusedNode); break;case a.tab:c.focusedNode.attr("tabindex",0);default:return!0}return!1}).find(">li:eq(0)").attr("tabindex",0);e.enabled&&(j=e.external?e.id:e.id?e.id:"SkipNavigation"+(e.randomId?i.rand(1E4):""),f.prepend(d("<a href='#"+j+"' class='"+b.skipLink+" "+b.skipLinkTree+"' />").text(e.text).focusClass(b.skipLinkFocus)),e.external||f.append("<a name='"+j+"' />"))}})})(jQuery); (function(d){var i=d.iq,b=i.treeview.classes;i.plugin("treeview",i.treeview,{options:{cookie:{enabled:!1,name:"",path:"/",expires:"",useIndex:!0}},_expandedState:null,_setExpandedState:function(a,b){var f=this,e=a.data("iq-treeview-path-index").split("|");if(e){var j=e.length-1,g=f._expandedState||{},i=g,k;d(e).each(function(a){k=this;(i=g[k])||(i=g[k]=[1,{}]);a<j?(1>=i.length&&(i[1]={}),i=i[1]):(0==b&&(1>=i.length||d.isEmptyObject(i[1]))?delete g[k]:i[0]=b,f._saveExpandedStateCookie());g=i})}},expandNode:function(a){this._base("expandNode", a);this._initializing||this._setExpandedState(a,1)},collapseNode:function(a){this._base("collapseNode",a);this._initializing||this._setExpandedState(a,0)},_isInExpandedState:function(a,b){var b=i.trim(b,"|",!0),d=!1,e,j=b.split("|");if(a&&(j&&0<j.length)&&(e=j[0],e=a[e]))d=j.slice(1),d=0<d.length?0<e.length?this._isInExpandedState(e[1],d.join("|")):!1:1==e[0]?!0:!1;return d},_getExpandedStates:function(a,c){var f=this,c=c||{};a.find(">li").each(function(a){var j=d(this),g=j.hasClass(b.nodeExpanded), j=f._getExpandedStates(j.find(">ul"));if(g||0<j.length)c[a]=[g?1:0,j]});return c},_saveExpandedStateCookie:function(){var a=this.options.cookie;d.cookie.set(a.name,this._expandedState,{path:a.path,expires:a.expires},{type:"json"})},_saveExpandedStates:function(){this._expandedState=this._getExpandedStates(this.element.find(">ul"));this._saveExpandedStateCookie()},_setupNode:function(a,c,d){var e;if(e=this._expandedState)c=a.data("iq-treeview-path-index"),this.options.cookie.useIndex&&c&&(e=this._isInExpandedState(e, c),a.editClass(e?b.nodeCollapsed:b.nodeExpanded,e?b.nodeExpanded:b.nodeCollapsed));this._base("_setupNode",a,c,d)},_init:function(){var a=this.options.cookie,b=a.enabled;b&&(a.name||(a.name=this.element.attr("id")||"iq-treeview-cookie"),this._expandedState=d.cookie.get(a.name,{type:"json"}));this._base("_init");b&&"object"!=typeof this._expandedState&&this._saveExpandedStates()}})})(jQuery); (function(d){var i=d.iq,b=i.treeview.classes;d.extend(b,{nodeChecked:"iq-treeview-node-checked",nodeUnchecked:"iq-treeview-node-unchecked"});i.plugin("treeview",i.treeview,{options:{checkbox:{enabled:!1,triState:!1,defaultState:"unchecked",stateChanging:i.ret1,stateChanged:i.ret1}},setCheck:function(a,b){return b?this.checkNode(a):this.uncheckNode(a)},toggleCheck:function(a){return a.find("input[type='checkbox']").eq(0).attr("checked")?this.uncheckNode(a):this.checkNode(a)},uncheckNode:function(a){a.editClass(b.nodeChecked, b.nodeUnchecked).find("input[type='checkbox']").eq(0).attr("checked",!1);return this.elements},checkNode:function(a){a.editClass(b.nodeUnchecked,b.nodeChecked).find("input[type='checkbox']").eq(0).attr("checked",!0);return this.elements},_setupNode:function(a){var c=this,f=c.options.checkbox,e=!1;c._base("_setupNode",a);if(f.enabled){if("unchecked"==f.defaultState&&a.hasClass(b.nodeChecked)||"unchecked"!=f.defaultState&&!a.is("."+b.nodeUnchecked))e=!0,a.removeClass(b.nodeUnchecked).removeClass(b.nodeChecked); a.find("."+b.itemAnchor).before(d("<input type='checkbox' />").attr("tabindex",-1).bind("click"+c.eventSuffix,function(){if(f.stateChanging.call(a))return f.stateChanged.call(a)}));c.setCheck(a,e);a.bind("keydown"+c.eventSuffix,function(b){if(b.which==i.keys.space)return c.toggleCheck(a),!1})}}})})(jQuery); (function(d){var i=d.iq,b,a,c;i.plugin("button",{_onElement:"input, a, button",_init:function(){var a=this.element,e,j;a.is("input")?(e=a.attr("tabindex"),j=a.addClass(b.input).attr("tabindex","-1").wrap("<a class='"+b.container+"' href='#'/>").parent().click(function(a){if(a.target===j[0])return d(this).find(">input").click(),!1;a.preventDefault()}).attr("tabindex",e),e=d.trim(i.curStyle(a,"width",{hide:!0})),/[\d]+%/.test(e)&&(a=a.parent().addClass("iq-button-block"),"100%"!==e&&a.css("width",e))): (j=a.addClass(b.container),a.contents().wrap("<span class='"+b.text+"'/>"));c.bindEvents()}});b=i.button.classes={container:"iq-button",input:"iq-button-input",text:"iq-button-text",hover:"iq-button-hover",focus:"iq-button-focus"};c=i.button.manager={bindEvents:function(){a||(d(document).delegate(".iq-button",{hover:function(){d(this).toggleClass(b.hover)},focus:function(){d(this).addClass(b.focus)},blur:function(){d(this).removeClass(b.focus)}}),a=!0)}}})(jQuery); (function(d){function i(a){return 10*Math.floor(a/10)}function b(a){a.setMonth(a.getMonth()+1);return a}function a(a){a.setMonth(a.getMonth()-1);return a}function c(a){return 0==a%4?0==a%100&&0!=a%400?!1:!0:!1}var f=d.iq,e,j={width:"",height:"",top:"",left:"",position:"",fontSize:"",opacity:"",lineHeight:"",marginLeft:"",marginTop:""};f.plugin("calendar",{options:{daysFormat:"daysShort",monthsFormat:"monthsMedium",weekHeader:"Wk",firstDay:0,pickerCount:1,textPrev:"",textNext:"",dateFormat:"dd-MM-yyyy", slideDuration:"fast",inOutDuration:250,selecting:f.ret1,selected:f.ret1},eventPrefix:"date",daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],selectedDate:null,_currentPage:0,_animating:!1,_animateOut:function(a,b,c,d,f,i){this._animating=!0;var q=this.options,i=i.parent();i.prevAll();i.parent().prevAll();var r=a.find("table"),a=i.position();b.show().find("table");var c=b.width(),d=b.height(),f=b.css("font-size"),u=b.css("line-height"),s=b.css({width:"",height:"",fontSize:"",lineHeight:""}).width(), t=b.height(),v=b.css("font-size"),x=b.css("line-height");b.show().css({top:a.top,left:a.left,width:c,height:d,fontSize:f,lineHeight:u});b.animate({width:s+"px",height:t+"px",left:"0px",top:"0px",opacity:"1",fontSize:v,lineHeight:x},{duration:q.inOutDuration,easing:q.inOutEasing,complete:function(){b.css(j)}});r.addClass(e.selectorsAnimate);properties={width:r.width()+"px",height:r.height()+"px",fontSize:r.css("fontSize"),marginLeft:-i.position().left+"px",marginTop:-i.position().top+"px",opacity:0.2}; r.removeClass(e.selectorsAnimate);r.animate(properties,{duration:q.inOutDuration,easing:q.inOutEasing,complete:function(){r.hide().css(j);this._animating=!1}})},_animateIn:function(a,b,c){this._animating=!0;b.show();var d=c.position(),f=b.css("fontSize"),i=c.width(),q=c.height(),r=b.outerWidth(),u=b.outerHeight(),s=parseInt(c.css("marginLeft")),t=parseInt(c.css("marginTop"));b.addClass(e.selectorsAnimate).show().css({width:b.width(),height:b.height(),fontSize:b.css("fontSize"),marginLeft:-c.position().left, marginTop:-c.position().top,opacity:0.2}).removeClass(e.selectorsAnimate).animate({marginLeft:(!s||"auto"==s?0:s)+"px",marginTop:(!t||"auto"==t?0:t)+"px",width:r+"px",height:u+"px",fontSize:f,opacity:1},{queue:!1,duration:350,complete:function(){b.css(j)}});a.animate({height:i+"px",width:q+"px",left:d.left+"px",top:d.top+"px",fontSize:"1px",lineHeight:q/a.find("table tr").length+"px"},{duration:350,queue:!1,complete:function(){a.hide();this._animating=!1}})},_generateDaySelectors:function(b,j){var k= this.options,i=this.selectedDate,n="<tr>",p="",q=this.daysInMonth,r=a(new Date(j)),u=j.getMonth(),s=j.getFullYear(),r=1==r.getMonth()&&c(r.getFullYear())?29:q[r.getMonth()],q=1==u&&c(s)?29:q[u],u=(new Date(s,u,1)).getDay(),s=1,t=!0,v=!0,x=e.daysPrevMonth,w=e.daysCurrentMonth,z=new Date,i=i?i.getDate():-1;d.each(f.circularShift(d.extend({},f.formats[k.daysFormat]),k.firstDay),function(){n+="<td>"+this+"</td>"});for(var D=6;D--;){for(var p=p+"<tr>",y=0,A;7>y;y++)A=v&&y<u-k.firstDay?"<a href='#' class='"+ x+"'>"+(r-u+1+y)+"</a>":"<a href='#' class='"+w+(t&&j.getMonth()==z.getMonth()&&s==z.getDate()?" "+e.today:"")+(t&&s==i?" "+e.daySelected:"")+"' >"+s++ +"</a>",p+="<td>"+A+"</td>",s>q&&(t=!1,s=1,w=e.daysNextMonth);v=!1;p+="</tr>"}b.find("thead").html(n+"</tr>");b.find("tbody").html(p)},_generateCalendar:function(a,b){var c=this.options,d,j=b.getFullYear(),p=this._currentPage,q=this.selectedDate;if(0==p)d=f.formats[c.monthsFormat][b.getMonth()]+", "+j,this._generateDaySelectors(a.find("."+e.daySelectors+ " table"),b);else if(1==p){d=j;for(var p=0,j=q?q.getMonth():-1,r="";3>p;p++){for(var r=r+"<tr>",q=0,u;4>q;q++)u=4*p+q,r+="<td><a href='#' class='"+e.monthsCurrentYear+(u==j?" "+e.monthSelected:"")+"'>"+f.formats[c.monthsFormat][u]+"</a></td>";r+="</tr>"}a.find("."+e.monthSelectors+" tbody").html(r)}else if(2==p){c=i(j);d=c+"-"+(c+9);p=0;j=c-1;c=q?q.getFullYear():-1;for(r="";3>p;p++){r+="<tr>";for(q=0;4>q;q++)r+="<td><a href='#' class='"+(0==p&&0==q?e.yearsPrevDecade:2==p&&3==q?e.yearsNextDecade:e.yearsCurrentDecade)+ (j==c?" "+e.yearSelected:"")+"'>"+j++ +"</a></td>";r+="</tr>"}a.find("."+e.yearSelectors+" tbody").html(r)}else if(3==p){c=100*Math.floor(j/100);d=c+"-"+(c+99);p=0;c-=10;j=q?i(q.getFullYear()):-1;for(r="";3>p;p++){r+="<tr>";for(q=0;4>q;q++)r+="<td><a href='#' class='"+(0==p&&0==q?e.decadesPrevCentury:2==p&&3==q?e.decadesNextCentury:e.decadesCurrentCentury)+(c==j?" "+e.decadeSelected:"")+"'>"+c+"- "+(c+9)+"</a></td>",c+=10;r+="</tr>"}a.find("."+e.decadeSelectors+" tbody").html(r)}a.find("."+e.title).html("<span>"+ d+"</span>")},setDate:function(a){this._temp=this.selectedDate=a;this._generateCalendar(this.element.find("."+e.group),a)},show:function(){this.instance.element.show()},selectedDate:null,_temp:null,_init:function(){var c=this,j=c.options,k=c.element.addClass(e.container),m="<div class='"+e.group+"'><div class='"+e.header+"'><a href='#' class='"+e.previous+"'><span /></a><a href='#' class='"+e.next+"'><span /></a><a href='#' class='"+e.title+"'></a></div><div class='"+e.selectors+"'><div class='"+ e.daySelectors+"'><table cellpadding='0' cellspacing='0'><thead /><tbody /></table></div><div class='"+e.monthSelectors+"'><table cellpadding='0' cellspacing='0'><thead /><tbody /></table></div><div class='"+e.yearSelectors+"'><table cellpadding='0' cellspacing='0'><thead /><tbody /></table></div><div class='"+e.decadeSelectors+"'><table cellpadding='0' cellspacing='0'><thead /><tbody /></table></div></div></div>";c._temp=new Date;k.append(m);c.setDate(c.selectedDate||new Date);var n=c.element.find("."+ e.group),p=n.find("."+e.daySelectors),q=n.find("."+e.monthSelectors),r=n.find("."+e.yearSelectors),u=n.find("."+e.decadeSelectors),m=p.find("table:eq(0)"),s=q.find("table:eq(0)"),t=r.find("table:eq(0)"),v=u.find("table:eq(0)"),x=m.outerWidth(),w=m.outerHeight(),z=s.outerWidth(),D=s.outerHeight(),y=t.outerWidth(),A=t.outerHeight(),E=p.css("fontSize"),B=q.css("fontSize"),C=r.css("fontSize");p.delegate("a",{click:function(k){var f=d(this),j=new Date(c._temp);f.hasClass(e.daysNextMonth)&&(j=b(j));f.hasClass(e.daysPrevMonth)&& (j=a(j));j.setDate(d(this).text());c._trigger("selecting",k,{newDate:j})&&(c.setDate(j),c._trigger("selected",k,{newDate:j}));return!1},hover:function(a){c._animating||d(a.currentTarget).toggleClass(e.dayHovered)}});q.delegate("a",{click:function(a){q.find("."+e.monthSelected).removeClass(e.monthSelected);var b=c._temp,a=d(a.currentTarget).addClass(e.monthSelected);b.setMonth(d.inArray(a.text(),f.formats[j.monthsFormat]));c._selectedDate=c._temp=b;c._currentPage--;c._generateCalendar(n,b);c._animateOut(q, p,x,w,E,a);return!1},hover:function(a){c._animating||d(a.currentTarget).toggleClass(e.monthHovered)}});r.delegate("a",{click:function(a){r.find("."+e.yearSelected).removeClass(e.yearSelected);var b=c._temp,a=d(a.currentTarget).addClass(e.yearSelected);b.setYear(a.text());c._selectedDate=c._temp=b;c._currentPage--;c._generateCalendar(n,b);c._animateOut(r,q,z,D,B,a);return!1},hover:function(a){c._animating||d(a.currentTarget).toggleClass(e.yearHovered)}});u.delegate("a",{click:function(a){u.find("."+ e.decadeSelected).removeClass(e.decadeSelected);var b=c._temp,a=d(a.currentTarget).addClass(e.decadeSelected);b.setYear(parseInt(a.text().split("-")[0])+b.getFullYear()%10);c._selectedDate=c._temp=b;c._currentPage--;c._generateCalendar(n,b);c._animateOut(u,r,y,A,C,a);return!1},hover:function(a){c._animating||d(a.currentTarget).toggleClass(e.decadeHovered)}});k.find("."+e.title).bind("click",function(){var a=c._currentPage;if(3!=a){var b=c.selectedDate;c._currentPage++;c._generateCalendar(n,b);0== a?c._animateIn(p,s,q.show().find("td:contains('"+f.formats[j.monthsFormat][b.getMonth()]+"')"),q.position(),3,4):1==a?c._animateIn(q,t,r.show().find("td:contains('"+b.getFullYear()+"')"),r.position(),3,4):2==a&&(a=i(b.getFullYear()),c._animateIn(r,v,u.show().find("td:contains('"+a+"- "+(a+9)+"')"),u.position(),3,4))}return!1});k.find("."+e.next).click(function(){p.stop(!1,!0);c._temp=c.selectedDate=b(c.selectedDate);var a=p.find("table"),k=Math.ceil(a.outerWidth(!0)),f=Math.ceil(a.outerHeight(!0)), e=d("<table cellpadding='0' cellspacing='0'><thead /><tbody /></table>").insertAfter(a);p.width(2*k);p.height(f);c._generateDaySelectors(e,c.selectedDate);var k=e.offset(),i=parseInt(p.css("marginTop"))||0,m=parseInt(p.css("marginLeft"))||0,f=a.offset();p.animate({marginTop:i+f.top-k.top,marginLeft:m+f.left-k.left},{duration:j.slideDuration,easing:j.slideEasing,complete:function(){p.css({width:"",height:"",marginLeft:m,marginTop:i});p.parent().css("width","");a.remove();c._generateCalendar(n,c.selectedDate)}}); return!1});k.find("."+e.previous).click(function(){p.stop(!1,!0);c._temp=c.selectedDate=a(c.selectedDate);var b=p.find("table"),k=Math.ceil(b.outerWidth(!0)),f=Math.ceil(b.outerHeight(!0)),e=d("<table cellpadding='0' cellspacing='0'><thead /><tbody /></table>").insertBefore(b);p.width(2*k);p.height(f);p.parent().width(k);c._generateDaySelectors(e,c.selectedDate);var k=b.offset(),i=parseInt(p.css("marginTop"))||0,m=parseInt(p.css("marginLeft"))||0,f=p.offset();p.css({marginTop:i+f.top-k.top,marginLeft:m+ f.left-k.left}).animate({marginTop:i,marginLeft:m},{duration:j.duration,easing:j.easing,complete:function(){p.css({width:"",height:"",marginLeft:m,marginTop:i});p.parent().css("width","");b.remove();c._generateCalendar(n,c.selectedDate)}});return!1})}});e=f.calendar.classes={container:"iq-calendar",header:"iq-calendar-header",previous:"iq-calendar-previous",next:"iq-calendar-next",title:"iq-calendar-title",group:"iq-calendar-group",selectors:"iq-calendar-selectors",selectorsAnimate:"iq-calendar-selectors-animate", today:"iq-calendar-today",daySelectors:"iq-calendar-day-selectors",daySelected:"iq-calendar-day-selected",daysPrevMonth:"iq-calendar-days-prev-month",daysNextMonth:"iq-calendar-days-next-month",daysCurrentMonth:"iq-calendar-days-current-month",dayHovered:"iq-calendar-day-hovered",monthSelectors:"iq-calendar-month-selectors",monthSelected:"iq-calendar-month-selected",monthHovered:"iq-calendar-month-hovered",monthsCurrentYear:"iq-calendar-months-current-year",yearSelectors:"iq-calendar-year-selectors", yearSelected:"iq-calendar-year-selected",yearsPrevDecade:"iq-calendar-years-prev-decade",yearsNextDecade:"iq-calendar-years-next-decade",yearsCurrentDecade:"iq-calendar-years-current-decade",yearHovered:"iq-calendar-year-hovered",decadeSelectors:"iq-calendar-decade-selectors",decadeSelected:"iq-calendar-decade-selected",decadeHovered:"iq-calendar-decade-hovered",decadesPrevCentury:"iq-calendar-decades-prev-century",decadesNextCentury:"iq-calendar-decades-prev-century",decadesCurrentCentury:"iq-calendar-decades-current-century", clearFloat:"iq-clear"}})(jQuery); (function(d,i){var b=d.iq,a,c,f,e,j=d.iq.color={getAll:function(a){var b,c,d,f;a&&("string"==typeof a?(b="#"+a.replace("#",""),c=j.hex2rgb(a),d=j.rgb2hsl(c),f=j.hsl2hsv(d)):a.r!=i?(c={r:parseInt(a.r),g:parseInt(a.g),b:parseInt(a.b)},b=j.rgb2hex(c),d=j.rgb2hsl(c),f=j.hsl2hsv(d)):a.l!=i?(d={h:parseInt(a.h),s:parseInt(a.s),l:parseInt(a.l)},c=j.hsl2rgb(d),f=j.hsl2hsv(d),b=j.rgb2hex(c)):a.v!=i&&(f={h:parseInt(a.h),s:parseInt(a.s),v:parseInt(a.v)},d=j.hsv2hsl(f),c=j.hsl2rgb(d),b=j.rgb2hex(c)));return{hex:b.toUpperCase(), rgb:c,hsl:d,hsv:f}},hex2rgb:function(a){a=a.replace("#","");return{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16)}},hex2hsl:function(a){return j.rgb2hsl(j.hex2rgb(a.replace("#","")))},hex2hsv:function(a){return j.hsl2hsv(j.hex2hsl(a.replace("#","")))},hsv2hex:function(a){return j.rgb2hex(j.hsl2rgb(j.hsv2hsl(a)))},rgb2hex:function(a){var b=parseInt(a.r),c=parseInt(a.g),a=parseInt(a.b);return"#"+(15<b?"":"0")+b.toString(16)+(15<c?"":"0")+c.toString(16)+(15<a? "":"0")+a.toString(16)},rgb2hsl:function(a){var b=a.r/255,c=a.g/255,a=a.b/255,d=Math.min(Math.min(a,c),b),f=Math.max(Math.max(b,c),a),e=f-d,g=0,j=(f+d)/2,i=0;if(e){g=0.5<j?e/(2-f-d):e/(f+d);switch(f){case b:i=(c-a)/e+(c<a?6:0);break;case c:i=(a-b)/e+2;break;case a:i=(b-c)/e+4}i/=6}i=Math.round(360*i);360==i&&(i=0);return{h:i,s:Math.round(100*g),l:Math.round(100*j)}},hsl2rgb:function(a){var b=a.h/360,c=a.s/100,d=a.l/100,f,e,a=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*c:0.5>c?b: c<2/3?a+6*(b-a)*(2/3-c):f};0==c?c=d=b=d:(e=0.5>d?d*(1+c):d+c-d*c,f=2*d-e,c=a(f,e,b+1/3),d=a(f,e,b),b=a(f,e,b-1/3));return{r:Math.round(255*c),g:Math.round(255*d),b:Math.round(255*b)}},hsl2hsv:function(a){var b=2*a.l/100,c=a.s*(1>=b?b:2-b)/100,d=(b+c)/2,b=2*c/(b+c);isNaN(b)&&(b=0);return{h:a.h,s:Math.round(100*b),v:Math.round(100*d)}},hsv2hsl:function(a){var b=a.s/100,c=a.v/100,a=a.h,d=(2-b)*c,b=b*c/(1>=d?d:2-d),d=d/2;isNaN(b)&&(b=0);return{h:a,s:Math.round(100*b),l:Math.round(100*d)}},getScheme:function(a, b){return l[a](b)}};e=j.colorNames={Maroon:"800000",Red:"ff0000",Orange:"ffA500",Yellow:"ffff00",Olive:"808000",Green:"008000",Purple:"800080",Fuchsia:"ff00ff",Lime:"00ff00",Teal:"008080",Aqua:"00ffff",Blue:"0000ff",Navy:"000080",Black:"000000",Gray:"808080",Silver:"c0c0c0",White:"ffffff"};var g=j.palettes={WebSafe:{css:"iq-colorpicker-palette-websafe",rows:6,cols:36,display:"Web safe colors",get:function(){var a="00 33 66 99 CC FF".split(" "),b,c,d,f=[],e=0;for(b=6;b--;)for(c=6;c--;)for(d=6;d--;)f[e++]= a[b]+a[c]+a[d];return f}}},l=j.schemes={Monochrome:{css:"iq-colorpicker-scheme-monochrome",rows:2,cols:3,get:function(a){var a=j.hex2hsv(a.replace("#","")),b=j.hsv2hex;return[b({h:a.h,s:a.s/2,v:100-(100-a.v)/2}),b({h:a.h,s:a.s,v:0.7*a.v}),b({h:a.h,s:a.s/4,v:100-(100-a.v)/4}),b({h:a.h,s:2*a.s/3,v:a.v/3}),b({h:a.h,s:a.s/4,v:a.v-(a.v-50)/4}),b({h:a.h,s:a.s/2,v:a.v-(a.v-50)/2})]}},VaryingHue:{css:"iq-colorpicker-scheme-varyinghue",rows:2,display:"Varying Hue",cols:3,get:function(a){var a=j.hex2hsv(a.replace("#", "")),b=j.hsv2hex;return[b({h:(a.h+315)%360,s:a.s,v:a.v}),b({h:(a.h+270)%360,s:a.s,v:a.v}),b({h:(a.h+225)%360,s:a.s,v:a.v}),b({h:(a.h+180)%360,s:a.s,v:a.v}),b({h:(a.h+135)%360,s:a.s,v:a.v}),b({h:(a.h+90)%360,s:a.s,v:a.v})]}},ContrastPair:{css:"iq-colorpicker-scheme-contrastpair",rows:2,display:"Contrast Pair",cols:3,get:function(a){var a=j.hex2hsv(a.replace("#","")),b=j.hsv2hex;return[b({h:(a.h+0)%360,s:a.s,v:a.v}),b({h:(a.h+30)%360,s:a.s,v:a.v}),b({h:(a.h+330)%360,s:a.s,v:a.v}),b({h:(a.h+180)%360, s:a.s,v:a.v}),b({h:(a.h+210)%360,s:a.s,v:a.v}),b({h:(a.h+150)%360,s:a.s,v:a.v})]}},Pentadic:{css:"iq-colorpicker-scheme-pentadic",rows:2,cols:3,get:function(a){var a=j.hex2hsv(a.replace("#","")),b=j.hsv2hex;return[b({h:(a.h+0)%360,s:a.s,v:a.v}),b({h:(a.h+288)%360,s:a.s,v:a.v}),b({h:(a.h+216)%360,s:a.s,v:a.v}),b({h:(a.h+144)%360,s:a.s,v:a.v}),b({h:(a.h+72)%360,s:a.s,v:a.v})]}}};b.plugin("colorpicker",{options:{offsetCircle:{x1:-4,y1:-4,x2:4,y2:5},offsetTriangle:{y1:-3,y2:5},mode:"FullCompact",defaultColor:"#FF0000", changing:b.ret1,changed:b.ret1},_previous:null,_color:null,_previous:null,_gradientBG:null,eventPrefix:"color",get:function(){return this._color},set:function(a){this._set(a,!1,!0,!0)},_set:function(a,b,c,f){var e=this.element,a=j.getAll(a),g=this._inputs,l,s,t,v,b=b===i||!1!==b;a.hex&&(v=d.Event(),s=a.rgb,l=a.hsl,t=a.hsv,g.rgbR.val(s.r),g.rgbG.val(s.g),g.rgbB.val(s.b),g.hslH.val(l.h),g.hslS.val(l.s),g.hslL.val(l.l),g.hsbH.val(t.h),g.hsbS.val(t.s),g.hsbB.val(t.v),s=a.hex.replace("#","").toUpperCase(), g.hex.val(s),g.preview.css("background",a.hex).attr("title","#"+s),g.colorNames.attr("selectedIndex",-1),g.colorNames.val(s),g.gradient.css("background-color",j.rgb2hex(j.hsl2rgb({h:l.h,s:l.s,l:50}))),this._template.updateSelectors(e,this.options,a,c,f),b&&this._trigger("changed",v,{newValue:a,oldValue:this._color}),this._previous=d.extend({},this._color),this._color=a)},eventPrefix:"color",_init:function(){var b=this,e=b.options,g=b.element.addClass(a.container),j=b._template=c[e.mode];d(j.template).appendTo(g.empty()); var i=g.find(".iq-colorpicker-inputs"),l;j.init(g,e);l=b._inputs={rgbR:g.find("."+a.rgbR).restrictText({filter:/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/}),rgbG:g.find("."+a.rgbG).restrictText({filter:/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/}),rgbB:g.find("."+a.rgbB).restrictText({filter:/^([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])$/}),hslH:g.find("."+a.hslH).restrictText({filter:/^([012]?[0-9]?[0-9]|3[0-5][0-9])$/}),hslS:g.find("."+a.hslS).restrictText({filter:/^([0]?[0-9]?[0-9]|100)$/}),hslL:g.find("."+ a.hslL).restrictText({filter:/^([0]?[0-9]?[0-9]|100)$/}),hsbH:g.find("."+a.hsbH).restrictText({filter:/^([012]?[0-9]?[0-9]|3[0-5][0-9])$/}),hsbS:g.find("."+a.hsbS).restrictText({filter:/^([0]?[0-9]?[0-9]|100)$/}),hsbB:g.find("."+a.hsbB).restrictText({filter:/^([0]?[0-9]?[0-9]|100)$/}),hex:g.find("."+a.hex).restrictText({filter:"hex"}),colorNames:g.find("."+a.colorNames),gradient:g.find("."+a.lightnessGradient),preview:g.find("."+a.preview)};i.delegate("input","change",function(){var c=d(this);c.val()|| c.val("0");c.is("."+a.rgbR+",."+a.rgbG+",."+a.rgbB)?b._set({r:l.rgbR.val(),g:l.rgbG.val(),b:l.rgbB.val()}):c.is("."+a.hslH+",."+a.hslS+",."+a.hslL)?b._set({h:l.hslH.val(),s:l.hslS.val(),l:l.hslL.val()}):c.is("."+a.hsbH+",."+a.hsbS+",."+a.hsbB)&&b._set({h:l.hsbH.val(),s:l.hsbS.val(),v:l.hsbB.val()})});l.hex.change(function(){var a=d(this),c=a.val();if(!c||6>c.length)a.val(c=e.defaultColor);b._set(c)});g.find("."+a.select).click(function(a){f.recent.add(g,e,b._color.hex);b._trigger("select",a,{selectedValue:b._color})}); g.find("."+a.cancel).click(function(a){b._previous&&b._set(b._previous.hex,!1);b._trigger("cancel",a,{selectedValue:b._color})});b._set(e.defaultColor,!1)}});a=b.colorpicker.classes={container:"iq-colorpicker",spectrum:"iq-colorpicker-spectrum",colorGradient:"iq-colorpicker-color-gradient",lightnessGradient:"iq-colorpicker-lightness-gradient",circle:"iq-colorpicker-circle",triangle:"iq-colorpicker-triangle",selectPanel:"iq-colorpicker-select-panel",inputs:"iq-colorpicker-inputs",inputTd:"iq-colorpicker-input-td", rgbR:"iq-colorpicker-rgbR",rgbG:"iq-colorpicker-rgbG",rgbB:"iq-colorpicker-rgbB",hslH:"iq-colorpicker-hslH",hslS:"iq-colorpicker-hslS",hslL:"iq-colorpicker-hslL",hsbH:"iq-colorpicker-hsbH",hsbS:"iq-colorpicker-hsbS",hsbB:"iq-colorpicker-hsbB",hex:"iq-colorpicker-hex",preview:"iq-colorpicker-preview",previewBg:"iq-colorpicker-preview-bg",previewBgEnabled:"iq-colorpicker-preview-bg-enabled",colorNames:"iq-colorpicker-color-names",schemeSelect:"iq-colorpicker-scheme-select",schemeColors:"iq-colorpicker-scheme-colors", paletteSelect:"iq-colorpicker-palette-select",paletteColors:"iq-colorpicker-palette-colors",select:"iq-colorpicker-select",cancel:"iq-colorpicker-cancel"};f=b.colorpicker.sections={picker:{template:"<div><div class='"+a.spectrum+"'><span class='"+a.colorGradient+"'><span class='"+a.circle+"'/></span><span class='"+a.lightnessGradient+"'><span class='"+a.triangle+"'/></span></div><div class='"+a.selectPanel+"'><table cellpadding='0' cellspacing='0'><tr><td rowspan='3'><table class='"+a.inputs+"' cellspacing='0' cellpadding='0'><tbody><tr><td>R</td><td class='"+ a.inputTd+"'><input type='text' class='"+a.rgbR+"'/></td><td>G</td><td class='"+a.inputTd+"'><input type='text' class='"+a.rgbG+"'/></td><td>B</td><td class='"+a.inputTd+"'><input type='text' class='"+a.rgbB+"'/></td></tr><tr><td>H</td><td class='"+a.inputTd+"'><input type='text' class='"+a.hslH+"'/> &deg;</td><td>S</td><td class='"+a.inputTd+"'><input type='text' class='"+a.hslS+"'/> %</td><td>L/I</td><td class='"+a.inputTd+"'><input type='text' class='"+a.hslL+"'/> %</td></tr><tr><td>H</td><td class='"+ a.inputTd+"'><input type='text' class='"+a.hsbH+"'/> &deg;</td><td>S</td><td class='"+a.inputTd+"'><input type='text' class='"+a.hsbS+"'/> %</td><td>V/B</td><td class='"+a.inputTd+"'><input type='text' class='"+a.hsbB+"'/> %</td></tr></tbody></table></td><td>#</td><td><input class='"+a.hex+"'type='text'/></td><td><select class='"+a.colorNames+"'/> </tr><tr><td rowspan='2'></td><td rowspan='2'><div class='"+a.previewBg+"'><div class='"+a.preview+"'/></div></td><td><input class='"+a.select+"'type='button' value='Select'/></td></tr><tr><td><input class='"+ a.cancel+"' type='button' value='Cancel'/></td></tr></table></div></div>",init:function(c,g){var f=c.find("."+a.colorNames),j="";d.each(e,function(a,b){j+="<option value='"+b.toUpperCase()+"'>"+a+"</option>"});f.html(j).change(function(){var a=f.val();a&&b.colorpicker.prototype._set.call(c.data("iq-colorpicker"),"#"+a)});c.find("."+a.colorGradient).click(function(f){var e=c.find("."+a.circle),j=d(this).offset();b.colorpicker.prototype._set.call(c.data("iq-colorpicker"),{h:f.pageX-j.left-Math.floor(e.outerWidth()/ 2)-g.offsetCircle.x1,s:100-f.pageY+j.top+Math.floor(e.outerHeight()/2)+g.offsetCircle.y1,l:c.colorpicker("get").hsl.l},!0,!0,!1)});c.find("."+a.lightnessGradient).click(function(f){var e=c.colorpicker("get").hsl;b.colorpicker.prototype._set.call(c.data("iq-colorpicker"),{h:e.h,s:e.s,l:100-f.pageY+d(this).offset().top+Math.floor(c.find("."+a.triangle).outerHeight()/2)+g.offsetTriangle.y1},!0,!1,!0)});c.find("."+a.circle).movable({offset:g.offsetCircle,moving:function(a,d){var f=d.current;b.colorpicker.prototype._set.call(c.data("iq-colorpicker"), {h:f.left-d.offset.x1,s:100-f.top+d.offset.y1,l:c.colorpicker("get").hsl.l},!0,!1,!1)}});c.find("."+a.triangle).movable({axis:"y",offset:g.offsetTriangle,moving:function(a,d){var f=d.current,g=c.colorpicker("get").hsl;b.colorpicker.prototype._set.call(c.data("iq-colorpicker"),{h:g.h,s:g.s,l:100-f.top+d.offset.y1},!0,!1,!1)}})}},schemes:{template:"<div class='iq-colorpicker-schemes'><div class='iq-colorpicker-scheme-select-panel'><span class='iq-colorpicker-scheme-select-text'>Select Scheme</span><select class='"+ a.schemeSelect+"'/></div><div class='iq-colorpicker-scheme-colors-panel'><div class='iq-colorpicker-current'><div><input type='text' class='iq-colorpicker-current-hex' readonly='readonly'/></div><div class='iq-colorpicker-current-color'/></div><div class='iq-colorpicker-schemes-wrapper'><table class='"+a.schemeColors+"' cellspacing='0' cellpadding='0'></table></div></div></div>",refresh:function(b){var c="",f=b.find("."+a.schemeSelect).val(),g=b.colorpicker("get"),e;if(f){for(var j=l[f],i=b.find("."+ a.schemeColors),s,t,v,x=j.rows;x--;){for(var c=c+"<tr>",w=j.cols;w--;)c+="<td><input type='text' readonly='readonly' class='iq-colorpicker-scheme-hex'/><a href='#' class='iq-colorpicker-scheme-color'/></td>";c+="</tr>"}i.removeClass().addClass("iq-colorpicker-scheme-colors "+j.css).html(c);s=i.find("td");(v=l[f].get(g.hex))&&d.each(v,function(a,b){t=s.eq(a);e=b.replace("#","").toUpperCase();t.find(".iq-colorpicker-scheme-hex").val(e);t.find(".iq-colorpicker-scheme-color").css("background",b).attr("title", "#"+e)})}e=g.hex.replace("#","").toUpperCase();b.find(".iq-colorpicker-current-hex").val(e);b.find(".iq-colorpicker-current-color").css("background",g.hex).attr("title","#"+e)},init:function(b,c){var g="";d.each(l,function(a,b){g+="<option value='"+a+"'>"+(b.display||a)+"</option>"});b.find("."+a.schemeSelect).change(function(){f.schemes.refresh(b,c)}).html(g);b.delegate(".iq-colorpicker-scheme-color","click",function(){b.colorpicker("set",d(this).attr("title"));b.tabs("selectTab",0);return!1})}}, palettes:{template:"<div class='iq-colorpicker-palettes'><div class='iq-colorpicker-palettes-wrapper'><select class='"+a.paletteSelect+"'/><table class='"+a.paletteColors+"' cellspacing='0' cellpadding='0'></table></div></div>",refresh:function(b){var c="",f=b.find("."+a.paletteSelect).val();if(f){for(var e=g[f],b=b.find("."+a.paletteColors),j,i,l=e.rows;l--;){for(var c=c+"<tr>",s=e.cols;s--;)c+="<td><a href='#' class='iq-colorpicker-palette-color'/></td>";c+="</tr>"}b.removeClass().addClass("iq-colorpicker-palette-colors "+ e.css).html(c);j=b.find("a");(i=g[f].get())&&d.each(i,function(a,b){j.eq(a).css("background","#"+b).attr("title","#"+b)})}},init:function(b,c){var e="";d.each(g,function(a,b){e+="<option value='"+a+"'>"+(b.display||a)+"</option>"});b.find("."+a.paletteSelect).change(function(){f.palettes.refresh(b,c)}).html(e);b.delegate(".iq-colorpicker-palette-color","click",function(){b.colorpicker("set",d(this).attr("title"));b.tabs("selectTab",0);return!1})}},recent:{rows:6,cols:6,template:"<div class='iq-colorpicker-recent'><div class='iq-colorpicker-recent-wrapper'><table class='iq-colorpicker-recent-colors' cellspacing='0' cellpadding='0'></table></div></div>", _selectedIndex:0,_select:function(a,b){var c=f.recent,d=a.find(".iq-colorpicker-recent-color");b==c.rows*c.cols&&(b=0);d.eq(c._selectedIndex).removeClass("iq-colorpicker-recent-color-selected");d.eq(c._selectedIndex=b).addClass("iq-colorpicker-recent-color-selected")},add:function(a,b,c){var b=f.recent,g=a.find(".iq-colorpicker-recent-color"),e=[],j,c=c.toUpperCase();g.eq(b._selectedIndex).css("background",c).attr("title",c);b._select(a,b._selectedIndex+1);d.cookie&&d.cookie.set&&(g.each(function(){(j= d(this).attr("title"))&&e.push(j)}),d.cookie.set("iq-colorpicker-recent-list",e,{},{type:"json"}))},init:function(a){var b="",c,g,e=f.recent,j,i;for(c=f.recent.rows;c--;){b+="<tr>";for(g=f.recent.cols;g--;)b+="<td><a href='#' class='iq-colorpicker-recent-color'/></a></td>";b+="</tr>"}e._$currentSelected=a.find(".iq-colorpicker-recent-colors").html(b).delegate("a","click",function(b){b=d(b.currentTarget);e._select(a,e.cols*b.closest("tr").index()+b.parent().index());return!1}).delegate("a","dblclick", function(b){a.colorpicker("set",d(b.currentTarget).attr("title"));a.tabs("selectTab",0);return!1}).find("a:eq(0)").addClass("iq-colorpicker-recent-color-selected");if(d.cookie&&d.cookie.get&&(j=d.cookie.get("iq-colorpicker-recent-list",{},{type:"json"})))a.find(".iq-colorpicker-recent-color").each(function(a){(i=j[a])&&d(this).css("background",i).attr("title",i)}),e._select(a,j.length)}}};c=b.colorpicker.templates={FullCompact:{css:"iq-colorpicker-full",template:"<div><div>"+f.picker.template+f.schemes.template+ f.palettes.template+f.recent.template+"</div></div><div><ul><li><a href='#'>Color Picker</a></li><li><a href='#'>Schemes</a></li><li><a href='#'>Palletes</a></li><li><a href='#'>Recent Picks</a></li></ul></div>",init:function(a,b){a.addClass("iq-colorpicker-full-compact").tabs({orientation:"HorizontalBottom",tabstrip:">div:eq(1)",multiview:">div:eq(0)",selected:function(){f.schemes.refresh(a,b);f.palettes.refresh(a,b)}});f.picker.init(a,b);f.schemes.init(a,b);f.palettes.init(a,b);f.recent.init(a, b)},updateSelectors:function(b,c,d,g,f){d=d.hsl;(g===i||!1!==g)&&b.find("."+a.circle).css({left:d.h+c.offsetCircle.x1,top:100-d.s+c.offsetCircle.y1});(f===i||!1!==f)&&b.find("."+a.triangle).css("top",100+c.offsetTriangle.y1-d.l)}}}})(jQuery); (function(d){var i=d.iq,b;i.plugin("combobox",{options:{readonly:!0,parent:"body"},_comboboxItems:null,_combobox:null,_onElement:"select",_tabIndex:-1,_data:null,_getData:function(a,b){var f=this,e;a.each(function(){var a=d(this);a.is("option")?b.push({text:a.attr("text"),value:a.val()}):a.is("optgroup")&&(e={text:a.attr("label"),data:[]},b.push(e),f._getData(a.children(),e.data))})},_renderOptions:function(a,c){var f=this,e="",j=b.item+(c?" "+b.itemSub:"");d.each(a,function(a,c){c.data?(e+="<li class='"+ b.item+" "+b.itemGroup+"'><span>"+c.text+"</span></li>",e+=f._renderOptions(c.data,!0)):e+="<li class='"+j+"'><a href='#' class='"+b.itemAnchor+"'>"+c.text+"</a></li>"});return e},_positionDropdown:function(a){var b=this._combobox,f=d.extend({my:"left top",at:"left bottom",offset:{top:-1},of:b},this.options.position||{}),b=b.width();a.width()<b&&a.width(b);a.position(f)},_renderSelect:function(a){var b=this.element;b.parent();var d=this._data=[];this._getData(b.children(),d);a.html(this._renderOptions(d))}, _closeDropdown:function(){this._comboboxItems.hide().appendTo(this._combobox.find("."+b.inner));this._isOpen=!1},_isOpen:!1,_init:function(){var a=this,c=a.element,f=a.options,e=c.addClass(b.select).wrap("<div class='"+b.container+"'/>").parent(),j,g;a._combobox=e.append("<div class='"+b.wrapper+"'><div class='"+b.inner+"'><input type='text' class='"+b.input+"' tabindex='"+(a._tabIndex=c[0].tabIndex)+"'/><a href='#' tabindex='-1' class='"+b.arrow+"'><span/></a><ul class='"+b.items+"'/></div></div>"); c[0].tabIndex=-1;j=c.parent().find("."+b.input);f.readonly&&j.attr("readonly","readonly");j.val(c.find("option:selected").text());j=d.trim(i.curStyle(c,"width",{hide:!0}));/[\d]+%/.test(j)&&(e.addClass("iq-combobox-block"),"100%"!==j&&e.css("width",j));a._comboboxItems=g=c.parent().find("."+b.items);a._renderSelect(g);g.delegate("."+b.itemAnchor,"click",function(){value=d(this).text();e.find("."+b.input).focus().val(value);c.find("option:eq("+g.find("."+b.item).index(d(this).closest("li")[0])+")").attr("selected", "selected").change();a._closeDropdown();return!1}).delegate("."+b.item,"hover",function(){d(this).toggleClass(b.itemHover)});e.bind("hover",function(){d(this).toggleClass(b.inputHover)}).find("."+b.input).bind({focus:function(){d(this).parent().parent().parent().addClass(b.inputFocus)},blur:function(){a._isOpen?setTimeout(function(){a._closeDropdown();a._combobox.removeClass(b.inputFocus)},300):a._combobox.removeClass(b.inputFocus)}});e.find("a."+b.arrow).bind("click",function(){var c=a._comboboxItems; a._isOpen?(c.hide(),a._isOpen=!1):(c.show().appendTo(f.parent),e.find("."+b.input).focus(),a._positionDropdown(g),a._isOpen=!0);return!1})}});b=i.combobox.classes={container:"iq-combobox",wrapper:"iq-combobox-wrapper",select:"iq-combobox-select",inner:"iq-combobox-inner-wrapper",input:"iq-combobox-input",arrow:"iq-combobox-arrow",items:"iq-combobox-items",item:"iq-combobox-item",itemSub:"iq-combobox-sub-item",itemHover:"iq-combobox-item-hover",itemFocus:"iq-combobox-item-focus",itemAnchor:"iq-combobox-item-anchor", itemGroup:"iq-combobox-item-group",inputHover:"iq-combobox-hover",inputFocus:"iq-combobox-focus"}})(jQuery); (function(d){var i=d.iq,b;i.plugin("datepicker",{options:{triggerOnFocus:!1,calendar:null,extendTextbox:!0,dateFormat:"dd-MM-yyyy"},$container:null,calendar:null,image:null,show:function(){var a=this;a.element.offset();a.calendar.show().bind("clickoutside"+a.eventSuffix,function(b){b.target!==a.element[0]&&a.hide()}).position({my:"left top",at:"left bottom",of:$container})},hide:function(){this.calendar.hide().unbind("clickoutside"+this.eventSuffix)},_init:function(){var a=this,c=a.element,f=a.options, e;f.calendar&&(e=d(f.calendar));e||(e=d("#iq-calendar"),e.length||(e=d("<div id='iq-calendar'/>").calendar()));a.calendar=e.appendTo("body").hide().bind("dateselected",function(b,c){a.element.val(i.stringify(c.newDate,{type:"date",format:f.dateFormat}));a.hide()}).addClass(b.calendar);f.triggerOnFocus&&c.bind("focus",function(){a.show()});f.extendTextbox?($container=c.textbox().parent().parent().addClass(b.container),a.image=d("<a href='#' class='"+b.image+"'><span/></a>").insertAfter(c).bind("click", function(){a.show();return!1})):$container=c}});b=i.datepicker.classes={container:"iq-datepicker",image:"iq-datepicker-icon",calendar:"iq-datepicker-calendar"}})(jQuery); (function(d){var i=d.iq,b;i.plugin("dialog",{options:{animate:!0,animateOpen:!0,animateSpeed:"fast",autoResize:!0,modal:!1,showTopBar:!0,autoOpen:!1,closeOnOverlayClick:!1,minWidth:160,minHeight:120,marginMaximized:20,textClose:"",textMaximize:"",title:"",movable:!1,resizable:!1,allowClose:!0,allowMaximize:!1,allowMinimize:!1,minimizing:i.ret1,maximizing:i.ret1,restoring:i.ret1,open:i.ret1,closing:i.ret1,close:i.ret1},eventPrefix:"dialog",state:"restored",_maximized:!1,_overlay:null,_showOverlay:function(){var a= d("html")[0];this._overlay.appendTo("body").height(a.scrollHeight).width(a.scrollWidth)},_box:null,_maxHover:"",_minimize:function(){var a=this,c=a.element.addClass(b.minimized),f=c.find("."+b.topBar).one("click",function(){c.removeClass(b.minimized);return a._changeState(1)}).height();a.state="minimized";c.animate({width:"100px",height:f+"px",top:d(window).height()-f-(c.outerHeight()-c.height()),left:0},a.options.animateSpeed)},_maximize:function(){var a=this.options,c=this.element.addClass(b.maximized), a=a.marginMaximized;this._maximized=!0;this.state="maximized";this._maxHover=b.restoreHover;c.animate({width:d(window).width()-2*a+"px",height:d(window).height()-2*a+"px",top:a,left:a},this.options.animateSpeed);c.find("."+b.maximize).removeClass(b.maximize+" "+b.maximizeHover).addClass(b.restore)},_restore:function(a){a=this.element.removeClass(b.maximized);this.state="restored";this._maxHover=b.restoreHover;a.animate(this._box,this.options.animateSpeed);a.find("."+b.restore).removeClass(b.restore+ " "+b.restoreHover).addClass(b.maximize)},_changeState:function(a){var b=this.element.show(),d=this.state,e=this._maximized;"restored"==d&&(this._box={left:b.css("left"),top:b.css("top"),width:b.css("width"),height:b.css("height")});"minimized"==d?1==a&&e?this._maximize():this._restore():1==a?this._restore():2==a?this._maximize():0==a&&(this._maximized=e,this._minimize())},minimize:function(){this._changeState(0)},restore:function(){this._changeState(1)},maximize:function(){this._changeState(2)}, close:function(){this.element.fadeOut();this._overlay.remove()},open:function(a){var a=a||{},b=this,d=b.element,e=b.options,j=d.cssX(["width","height","left","top"]),g;e.modal&&b._showOverlay();a.reset&&(g={of:window},e.modal&&(g.fixed=!0),j=d.show().position(g).cssX(["width","height","left","top"]),d.css({width:"0px",height:"0px"}).position(g));d.show().animate(j,!0!==a.animate&&!e.animateOpen?0:e.animateSpeed,function(){e.modal&&b._showOverlay()})},_init:function(){var a=this,c=a.options,f=a.element.addClass(b.container), e=f.find(">div:eq(0)").addClass(b.content),j,g;a._maxHover=b.maximizeHover;c.showTopBar&&(j=c.title||f.attr("title"),g=d("<div class='"+b.topBar+"'><div class='"+b.title+"'>"+(j||"")+"</div><div class='"+b.controllers+"' /></div>").prependTo(f),c.allowMinimize&&d("<a href='#' class='"+b.minimize+"' href='#'><span>"+(c.textMinimize||"")+"</span></a>").appendTo(g.find("."+b.controllers)).click(function(b){a._trigger("minimizing",b)&&(a._changeState(0),a._trigger("minimized",b));return!1}).hoverClass(b.minimizeHover), c.allowMaximize&&(j=function(b){var c="restored"==a.state;if(a._trigger(c?"maximizing":"restoring",b))a._changeState(c?2:1),a._trigger(c?"maximized":"restored",b);return!1},d("<a href='#' class='"+b.maximize+"' href='#'><span>"+(c.textMaximize||"")+"</span></a>").appendTo(g.find("."+b.controllers)).click(j).mouseover(function(){d(this).addClass(a._maxHover)}).mouseout(function(){d(this).removeClass(a._maxHover)}),g.bind("dblclick",j)),c.allowClose&&d("<a href='#' class='"+b.close+"' href='#'><span>"+ (c.textClose||"")+"</span></a>").appendTo(g.find("."+b.controllers)).bind("click",function(b){a._trigger("closing",b)&&(a.close(),a._overlay.remove());return!1}).hoverClass(b.closeHover),c.movable&&f.movable({container:"body",handle:"."+b.topBar}));a._overlay=d("."+b.overlay);c.autoOpen&&a.open({reset:!0});c.autoResize&&d("body").bind("resize",function(){"minimized"!=a.state&&f.css({left:(d(document).width()-f.outerWidth())/2,top:(d(document).height()-f.outerHeight())/2})});c.resizable&&f.resizable({bottom:!0, right:!0,minWidth:c.minWidth,minHeight:c.minHeight,resizing:function(b,c){e.height(c.height-a.showTopBar?g.outerHeight():0)}});a._overlay.length||(a._overlay=d("<div class='"+b.overlay+"'/>").appendTo("body"))}});b=i.dialog.classes={container:"iq-dialog",content:"iq-dialog-content",minimized:"iq-dialog-minimized",maximized:"iq-dialog-maximized",topBar:"iq-dialog-topbar",title:"iq-dialog-title",controllers:"iq-dialog-controllers",minimize:"iq-dialog-minimize",minimizeHover:"iq-dialog-minimize-hover", maximize:"iq-dialog-maximize",maximizeHover:"iq-dialog-maximize-hover",restore:"iq-dialog-restore",restoreHover:"iq-dialog-restore-hover",close:"iq-dialog-close",closeHover:"iq-dialog-close-hover",overlay:"iq-dialog-overlay"}})(jQuery); (function(d,i){function b(a,b){return"string"==typeof a?a:a?a[b]||"":""}var a=d.iq;a.plugin("grid",{options:{showHeader:!0,headerTemplate:"label",cellEdited:d.noop,data:null},_editing:null,_renderCell:function(a,b,f,i){var i=d.extend({mode:"display"},i),m=this.options,n=a.hasClass(e.cellEdit),i="edit"==i.mode;if(n!==i){var p=m.columns[f],q=p.type,r=this._editing,u;q?"dynamic"==q&&(q=m.getDynamicType?m.getDynamicType(a,b,f):"label","string"!==typeof q&&(u=q.cellOptions,q=q.type)):q="label";m=c[q]; r&&(b!=r.row||f!=r.col)&&this._stopEdit();if(!i||!p.readonly)p.css&&a.addClass(p.css),i?(p=this.options.data[b][f],m.edit(a.addClass(e.cellEdit),p,u)):(p=m.val(a),n&&(this.options.data[b][f]=p),m.display(a.removeClass(e.cellEdit),p,u)),this._editing={cell:a,row:b,col:f},i||this._trigger("celledited",{target:a})}},_editCell:function(a){this._renderCell(a,a.parent().prevAll().length,a.prevAll().length,{mode:"edit"})},_stopEdit:function(){var a=this._editing;a&&(this._renderCell(a.cell,a.row,a.col), this._editing=null)},_contentTable:function(){return this.element.find("."+e.content+">table")},getCell:function(a,b){return 0<=a&&0<=b?instance._contentTable().find("tr:eq("+a+"td:eq("+b+")"):null},cellValue:function(a,b,d){a=c[columns[b].type].val(this.getCell(a,b),d);return d===i?a:this},_init:function(){var b=this,c=b.options,f=b.element.addClass(e.container);c.data&&a.grid.create(f,c);var i=f.find(">div").addClass(e.content).find(">table").addClass(e.contentTable),m=i.find(">tbody>tr").addClass(e.row); i.find(">tbody>tr:odd").addClass(e.altRow);m.find(">td").addClass(e.cell);c.showHeader||i.find(">thead").hide();b._delegate("."+e.row+">td","dblclick",function(a){b._editCell(d(a.currentTarget));a.preventDefault();a.stopPropagation()});f.bind("clickoutside",function(){b._stopEdit()})}});a.grid.create=function(a,b){var e=d("<tbody/>"),i=d("<thead/>"),m,n=b.columns;b.columns&&(m=d("<tr/>"),d.each(b.columns,function(a,b){var c=b.type,e=d("<th/>"),c=c&&f[c]?c:"label",c=f[c];b.css&&e.addClass(b.css);c.display(e, b);m.append(e)}),i.append(m));b.data&&(n=n||{},d.each(b.data,function(a,f){m=d("<tr/>");d.each(f,function(a,e){var f=n[a]||{},i=d("<td/>"),j;j?"dynamic"==j&&(j=b.getDynamicType?b.getDynamicType(i,row,col):"label","string"!==typeof j&&(j=j.type)):j="label";f.css&&i.addClass(f.css);c[j].display(i,e);m.append(i)});e.append(m)}));d("<div><table cellpadding='0' cellspacing='0'/></div>").appendTo(a.empty()).find("table").append(i).append(e)};var c=a.grid.cellTemplates={label:{display:function(a,c){a.html('<div class="iq-grid-label">'+ b(c,"text")+"</div>")},edit:function(a,c){a.html('<div class="iq-grid-label iq-grid-label-edit"><input type="text" class="iq-textbox-input" value="'+b(c,"text")+'"/></div>').find("input").textbox()},val:function(a,b){if(b===i)return a.hasClass(e.cellEdit)?a.find(".iq-grid-label input").val():a.find(".iq-grid-label").text();b=b.text||b;a.hasClass(e.cellEdit)?a.find(".iq-grid-label input").val(b):a.find(".iq-grid-label").text(b)}}},f=a.grid.headerTemplates={label:{display:function(a,c){a.removeClass(e.headerEdit).html('<div class="iq-grid-header-label">'+ b(c,"name")+"</div>")},edit:function(a,c){a.addClass(e.headerEdit).html('<div class="iq-grid-header-label iq-grid-header-label-edit"><input type="text" value="'+b(c,"name")+'"/></div>')},val:function(a,b){if(b===i)return $td.hasClass(e.headerEdit)?$td.find(".iq-grid-header-label input").val():$td.find(".iq-grid-header-label").text();b=b.text||b.name||b;$td.hasClass(e.headerEdit)?$td.find(".iq-grid-header-label input").val(b):$td.find(".iq-grid-header-label").text(b)}}},e=a.grid.classes={container:"iq-grid", header:"iq-grid-header",headerEdit:"iq-grid-header-edit",content:"iq-grid-content",contentTable:"iq-grid-content-table",cell:"iq-grid-cell",cellEdit:"iq-grid-cell-edit",row:"iq-grid-row",altRow:"iq-grid-alt-row"}})(jQuery); (function(d,i){function b(a,b){return"string"==typeof a?a:a?a[b]||"":""}var a=d.iq.grid,c=a.classes;d.extend(a.cellTemplates,{combobox:{display:function(a,e){var i=a.find("select");i.length&&i.combobox("remove");a.removeClass(c.cellEdit).html(d('<div class="iq-grid-label"/>').text(b(e,"text")))},edit:function(a,c,i){var a=a.html('<div class="iq-grid-combobox iq-grid-combobox-edit"><select/></div>').find("select"),g,l="";if(i&&(g=i.options))d.each(g,function(a,b){l+="<option value='"+a+"'>"+b+"</option>"}), a.append(l).val(b(c,"value"));a.combobox()},val:function(a,c){var d;if(c===i)return a.hasClass("iq-grid-cell-edit")?(d=a.find("select option:selected"),{text:d.text(),value:d.val()}):a.find("div").text();c=b(c,"value");a.hasClass("iq-grid-cell-edit")?(d=a.find("select").find('option:contains("'+c+'")'),1==d.length?d.attr("selected","selected"):select.val(c)):a.find("div").text(c)}},colorpicker:{display:function(a,c){var i=a.find(".iq-textbox-input");i.length&&i.textbox("remove");a.html(d('<div class="iq-grid-label"/>').text(b(c, "text")))},edit:function(a,c){var d=a.html('<div class="iq-grid-colorpicker"><input class="iq-textbox-input"/></div>').find("input");d.textbox({type:"colorpicker",colorpicker:{parent:d.parent(),position:{my:"left bottom",at:"left top"}}}).val(b(c,"text"))},val:function(a,c){var d=a.find(".iq-textbox-input");if(c===i)return d.length?d.val():a.find("div").text();c=b(c,"text");d.length?d.val(c):a.find(">div").text(c)}}})})(jQuery); (function(d){var i=d.iq,b,a,c,f,e;i.plugin("textbox",{_onElement:"input",remove:function(){c&&(f&&f[0]===this.element[0])&&c.appendTo("body").hide();this.element.parent().parent().remove()},_init:function(){var a=this.options,g=this.element,l,k,m;l=d.trim(i.curStyle(g,"width",{hide:!0}));g.addClass(b.input);m=g.wrap("<div class='"+b.container+"'><div class='"+b.wrapper+"'/></div>").parent().parent();/[\d]+%/.test(l)&&(k=g.parent().parent().addClass("iq-textbox-block"),"100%"!==l&&k.css("width",l)); if("colorpicker"==a.type){m.addClass("iq-textbox-colorpicker");var n=a.colorpicker;if(n&&n.parent)a=d(n.parent);else if(a=m.scrollParent(),a[0]===document||a[0]===window)a="body";c||(c=d("<div/>").appendTo("body").colorpicker({select:function(a,b){c.hide();f.val(b.selectedValue.hex)},cancel:function(){c.hide()}}).css({position:"absolute",display:"none",zIndex:"100000"}),c.one("clickoutside",function(){c.hide()}).click(function(){return!1}));d("<a href='#' class='iq-textbox-colorpicker-icon'><span/></a>").insertAfter(g).click(function(){c.show().position(d.extend({my:"left top", at:"left bottom",of:m},n?n.position||{}:{}));f=g;return!1})}e.bindEvents()}});b=i.textbox.classes={container:"iq-textbox",wrapper:"iq-textbox-wrapper",input:"iq-textbox-input",inputHover:"iq-textbox-hover",inputFocus:"iq-textbox-focus"};e=i.textbox.manager={bindEvents:function(){a||(d(document).delegate("input.iq-textbox-input",{hover:function(){d(this).parent().parent().toggleClass(b.inputHover)},focus:function(){d(this).parent().parent().addClass(b.inputFocus)},blur:function(){d(this).parent().parent().removeClass(b.inputFocus)}}), a=!0)}}})(jQuery);
